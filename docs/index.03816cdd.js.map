{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./node_modules/geppetto-player/dist/index.js","./node_modules/delaunator/index.js","./node_modules/@parcel/runtime-js/lib/bundle-url.js","./node_modules/@parcel/runtime-js/lib/JSRuntime.js","./src/assets/scenery.json","./src/assets/innkeeper.json","./src/tween.ts","./src/conversation.ts","./src/animation.ts"],"sourcesContent":["var $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$export(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n","function t(t){return t&&t.__esModule?t.default:t}var e=t(require(\"delaunator\"));const n=t=>t.reduce(((t,e)=>t.concat(e)),[]),o=t=>({data:new Float32Array(n(t)),length:t.length,stride:void 0===t[0]?0:t[0].length}),r=t=>\"folder\"===t.type||\"sprite\"===t.type,a=(t,e,n=[])=>{for(const o of t){e(o,n);for(const t of o.mutationVectors)e(t,[...n,o]);\"folder\"===o.type&&a(o.items,e,[...n,o])}},i={translate:1,stretch:2,rotate:3,deform:4,opacity:5},s=(t,e)=>{const n=t[t.length-1];if(r(n)){const o=e?n.mutationVectors.indexOf(e):-1;if(o>0)return n.mutationVectors[o-1];for(let n=t.length-(e?2:1);n>=0;n--){const e=t[n];if(e&&r(e)&&e.mutationVectors.length>0)return e.mutationVectors[e.mutationVectors.length-1]}}return null},c=t=>{const e=[],n=[],o={};a(t,((t,r)=>{if((t=>\"deform\"===t.type||\"rotate\"===t.type||\"translate\"===t.type||\"stretch\"===t.type||\"opacity\"===t.type)(t)){const c=[i[(a=t).type],a.origin[0],a.origin[1],\"deform\"===a.type||\"translate\"===a.type?a.radius:-1],u=n.length;n.push(c);const l=s(r,t),f=null===l?-1:e.findIndex((t=>t.name===l.name));e.push({name:t.name,index:u,parent:f}),o[t.name]=f}var a}));const c={};a(t,((t,n)=>{if(r(t)){const o=s(n.concat(t)),r=null===o?-1:e.findIndex((t=>t.name===o.name));c[t.name]=r}}));const u=new Int32Array(n.length);return e.forEach(((t,e)=>{u[e]=t.parent})),{mutatorMapping:o,parentList:u,vectorSettings:n,shapeMutatorMapping:c}},u=t=>{const e=t.controls.map((t=>t.name));return t.animations.map((t=>{const o=[],r=[];return t.keyframes.reduce(((t,e)=>(e.event&&r.push([e.time,e.event]),t.concat(Object.keys(e.controlValues)))),[]).filter(((t,e,n)=>n.indexOf(t)===e)).forEach((r=>{const a=[];t.keyframes.forEach((t=>{const e=t.controlValues[r];void 0!==e&&a.push([t.time,e])})),o.push([e.indexOf(r),new Float32Array(n(a))])})),{name:t.name,duration:0===t.keyframes.length?0:t.keyframes[t.keyframes.length-1].time,looping:t.looping,tracks:o,events:r}}))};exports.prepareAnimation=t=>{if(\"1.0\"!==t.version)throw new Error(\"Only version 1.0 files are supported\");const n=[],r=[],s=[];a(t.shapes,(t=>{if(\"sprite\"!==t.type)return;const o=(t=>{let e=1/0,n=-1/0,o=1/0,r=-1/0;return t.points.forEach((([t,a])=>{e=t<e?t:e,n=t>n?t:n,o=a<o?a:o,r=a>r?a:r})),[(e+n)/2,(o+r)/2]})(t),a=(i=t.points,e.from(i).triangles);var i;const c=[...t.translate,.1*n.length],u=r.length;n.push({name:t.name,start:2*s.length,amount:a.length,mutator:0,x:c[0],y:c[1],z:1e-4*c[2]-.9}),t.points.forEach((([t,e])=>{r.push([t-o[0],e-o[1],t,e])})),a.forEach((t=>{s.push(t+u)}))}));const l=c(t.shapes),f=l.parentList.length,d=Object.keys(l.mutatorMapping),m=[],p=new Float32Array(2*f);Object.entries(t.defaultFrame).forEach((([t,e])=>{const n=d.indexOf(t);-1!==n&&(p[2*n]=e[0],p[2*n+1]=e[1])}));const E=[],h=[],T=[];n.forEach((t=>{t.mutator=l.shapeMutatorMapping[t.name]})),n.sort(((t,e)=>(e.z||0)-(t.z||0)));const g=new Float32Array(t.controls.length),v=t.controls.reduce(((e,n,o)=>{const r=n.steps.reduce(((t,e)=>t.concat(Object.keys(e).filter((e=>!t.includes(e))))),[]);return m.push({name:n.name,steps:n.steps.length}),g[o]=t.controlValues[n.name],r.forEach((o=>{const r=d.indexOf(o),a=n.steps.map((t=>t[o])),i=(null==t?void 0:t.controls.findIndex((t=>t.name===n.name)))||0,s={name:n.name,controlIndex:i,valueStartIndex:0,values:a,stepType:0};e={...e,[r]:(e[r]||[]).concat(s)}})),e}),{});T.length=l.vectorSettings.length,T.fill([0,0]);let x=0;const y=[];return Object.entries(v).forEach((([t,e])=>{const n=parseInt(t,10);if(1===e.length){const t=e[0],o=l.vectorSettings[n][0];return void y.push({mutation:n,mixMultiply:o===i.stretch||o===i.opacity,control:t.controlIndex,stepType:t.stepType,trackX:new Float32Array(t.values.reduce(((t,e,n)=>t.concat(n,e[0])),[])),trackY:new Float32Array(t.values.reduce(((t,e,n)=>t.concat(n,e[1])),[]))})}if(0===e.length)return;for(const t of e)t.valueStartIndex=E.length,E.push(...t.values);const o=e.map((t=>[t.valueStartIndex,t.controlIndex,t.stepType]));T[n]=[h.length,o.length],x=Math.max(x,o.length),h.push(...o)})),{directControls:y,mutators:o(l.vectorSettings),mutatorParents:{data:l.parentList,length:l.parentList.length,stride:1},mutationValues:{data:p,length:l.parentList.length,stride:2},controlMutationValues:o(E),mutationValueIndices:o(h),controlMutationIndices:o(T),defaultControlValues:g,shapeVertices:o(r),shapeIndices:new Uint16Array(s),shapes:n,controls:m,maxIteration:x,animations:u(t)}};var l=t(\"precision mediump float;\\n#define GLSLIFY 1\\nvarying mediump vec2 vTextureCoord;varying mediump float vOpacity;uniform sampler2D uSampler;uniform mediump vec2 uTextureDimensions;void main(void){highp vec2 A=vTextureCoord.xy/uTextureDimensions;mediump vec4 B=texture2D(uSampler,A);gl_FragColor=vec4(B.rgb*B.a*vOpacity,B.a*vOpacity);}\");var f=t(\"#define GLSLIFY 1\\n#define A 0.017453292519943295\\nuniform vec2 viewport;uniform vec3 basePosition;uniform vec3 translate;uniform float mutation;uniform vec4 scale;uniform vec2 uMutValues[MAX_MUT];uniform vec4 uMutVectors[MAX_MUT];uniform int uMutParent[MAX_MUT];attribute vec2 coordinates;attribute vec2 aTextureCoord;varying lowp vec2 vTextureCoord;varying lowp float vOpacity;mat4 B=mat4(2./viewport.x,0,0,0,0,-2./viewport.y,0,0,0,0,1,0,-1,+1,0,1);vec2 C(int D,int E){vec2 F=uMutValues[D];vec2 G=uControlMutIndices[D];int H=int(G.x);int I=int(G.y);if(I==0){return F;}for(int J=0;J<MAX_IT;J++){if(J<I){vec3 K=uMutValueIndices[H+J];float L=uControlValues[int(K.y)];int M=int(floor(K.x+L));int N=int(ceil(K.x+L));float O=L-floor(L);vec2 P=uControlMutValues[M];vec2 Q=uControlMutValues[N];vec2 R=mix(P,Q,O);if(E==2||E==5){F*=R;}else{F+=R;}}else{return F;}}return F;}vec3 S(vec3 T,int D){vec4 mutation=uMutVectors[D];int E=int(mutation.x);vec2 U=C(D,E);vec2 V=mutation.yz;vec3 F=T;if(E==1){float W=1.;if(mutation.a>0.&&distance(T.xy,V)>mutation.a){W=0.;}F=vec3(T.xy+U*W,T.z);}if(E==2){F=vec3(V.xy+vec2((T.x-V.x)*U.x,(T.y-V.y)*U.y),T.z);}if(E==3){float X=U.x*A;mat2 Y=mat2(cos(X),sin(X),-sin(X),cos(X));F=vec3((T.xy-V)*Y+V,T.z);}if(E==4){float W=1.-clamp(distance(T.xy,V),0.,mutation.a)/mutation.a;F=vec3(T.xy+U*W,T.z);}if(E==5){float Z=U.x;F=vec3(T.xy,T.z*Z);}return F;}vec3 a(vec3 T,int D){int b=D;vec3 F=T;for(int J=0;J<MAX_MUT;J++){if(b==-1){return F;}F=S(F,b);b=uMutParent[b];}return F;}void main(){vec3 c=a(vec3(coordinates+translate.xy,1.),int(mutation));vec4 d=B*vec4((c.xy+basePosition.xy)*scale.x,translate.z-basePosition.z,1.);gl_Position=vec4((d.xy+scale.ba)*scale.y,d.z,1.);vTextureCoord=aTextureCoord.xy;vOpacity=c.z;}\");const d=(t,e,n=0)=>{for(let o=0;o<t.length;o+=2)if(t[o]>e){const r=o>1?t[o-2]:0,a=o>1?t[o-1]:n,i=(e-r)/(t[o]-r);return a*(1-i)+t[o+1]*i}return t[t.length-1]},m={zoom:1,panX:0,panY:0,zIndex:0},p=t=>{const e=t.getContext(\"webgl\",{premultipliedalpha:!0,depth:!0,antialias:!0,powerPreference:\"low-power\"});if(!e)throw new Error(\"Canvas has no webgl context available\");return e};exports.setupWebGL=t=>{const e=p(t);return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),h(t)};const E=(t,e)=>{const n=t.createProgram();if(!n)throw new Error(\"Failed to create shader program\");const o=(t=>`\\n  #define MAX_MUT ${t.mutators.length}\\n  #define MAX_IT ${t.maxIteration}\\n  uniform vec2 uControlMutValues[${t.controlMutationValues.length}];\\n  uniform vec3 uMutValueIndices[${t.mutationValueIndices.length}];\\n  uniform vec2 uControlMutIndices[${t.controlMutationIndices.length}];\\n  uniform float uControlValues[${t.controls.length}];\\n  ${f}\\n`)(e),r=t.createShader(t.VERTEX_SHADER),a=t.createShader(t.FRAGMENT_SHADER);if(!r||!a)throw t.deleteProgram(n),t.deleteShader(r),t.deleteShader(a),new Error(\"Failed to create shader program\");if(t.shaderSource(r,o),t.shaderSource(a,l),t.compileShader(r),t.compileShader(a),t.attachShader(n,r),t.attachShader(n,a),t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw console.error(\"Link failed: \"+t.getProgramInfoLog(n)),console.error(\"vs info-log: \"+t.getShaderInfoLog(r)),console.error(\"fs info-log: \"+t.getShaderInfoLog(a)),new Error(\"Could not initialise shaders\");return[n,r,a]},h=t=>{const e=p(t),n=[];let o=[],r=[];return{render:()=>{e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.viewport(0,0,t.width,t.height)},addAnimation:(a,i,s,c)=>{const u=[e.TEXTURE0,e.TEXTURE1,e.TEXTURE2,e.TEXTURE3,e.TEXTURE4,e.TEXTURE5,e.TEXTURE6,e.TEXTURE7,e.TEXTURE8,e.TEXTURE9][s],[l,f,p]=E(e,a);e.useProgram(l);const h=((t,e,n)=>{const o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.useProgram(e),t.uniform2f(t.getUniformLocation(e,\"uTextureDimensions\"),n.width,n.height),o})(e,l,i),T=e.getUniformLocation(l,\"uMutParent\");e.uniform1iv(T,a.mutatorParents.data);const g=((t,e)=>(n,o)=>{const r=t.getUniformLocation(e,n),a=o.stride;return 2==a?t.uniform2fv(r,o.data):3==a?t.uniform3fv(r,o.data):4==a&&t.uniform4fv(r,o.data),r})(e,l),v=g(\"uMutValues\",a.mutationValues);g(\"uMutVectors\",a.mutators),g(\"uControlMutValues\",a.controlMutationValues),g(\"uMutValueIndices\",a.mutationValueIndices),g(\"uControlMutIndices\",a.controlMutationIndices);const x=e.getUniformLocation(l,\"uControlValues\");e.uniform1fv(x,a.defaultControlValues);const y=new Float32Array(a.defaultControlValues),A=new Float32Array(a.defaultControlValues),R=e.createBuffer(),_=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,R),e.bufferData(e.ARRAY_BUFFER,a.shapeVertices.data,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,_),e.bufferData(e.ELEMENT_ARRAY_BUFFER,a.shapeIndices,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);const F=e.getUniformLocation(l,\"basePosition\"),M=e.getUniformLocation(l,\"translate\"),U=e.getUniformLocation(l,\"mutation\"),I=e.getUniformLocation(l,\"viewport\"),V=e.getUniformLocation(l,\"scale\"),S=e.getAttribLocation(l,\"coordinates\"),w=e.getAttribLocation(l,\"aTextureCoord\");let L=0,b=0,{zoom:P,panX:C,panY:D,zIndex:X}={...m,...c},B=[0,0],O=1;const k=[],N=a.animations.map((t=>t.name)),Y=a.controls.map((t=>t.name)),z=a.animations.map((t=>t.looping)),G=t=>{const e=k.findIndex((e=>e.name===t));if(-1===e)return;const n=k[e];let r=+new Date-n.startedAt+n.startAt;const i=a.animations[n.index];z[n.index]&&(r%=i.duration),k.splice(e,1);for(const[t,e]of i.tracks){const n=d(e,r,y[t]);y[t]=n}for(const e of o)e(t)},$=t=>{const e=Y.indexOf(t);if(-1===e)throw new Error(`Control ${t} does not exist in ${Y.join(\",\")}`);return e},W=t=>{const e=N.indexOf(t);if(-1===e)throw new Error(`Track ${t} does not exist in ${N.join(\",\")}`);return e},H={destroy:function(){e.deleteShader(f),e.deleteShader(p),e.deleteProgram(l),e.deleteTexture(h),e.deleteBuffer(R),e.deleteBuffer(_),n.splice(n.indexOf(H),1)},setLooping:function(t,e){const n=W(e);z[n]=t},startTrack:function(t,{startAt:e=0,speed:n=1}={}){const o=W(t),r=a.animations[o].tracks.map((([t])=>t));for(const t of k){a.animations[t.index].tracks.some((([t])=>r.includes(t)))&&G(N[t.index])}k.push({name:t,index:o,startAt:e,speed:n,startedAt:+new Date,iterationStartedAt:+new Date-e/n,lastRender:0})},stopTrack:G,setControlValue:(t,e)=>{const n=$(t),o=a.controls[n].steps-1;if(e<0||e>o)throw new Error(`Control ${t} value shoulde be between 0 and ${o}. ${e} is out of bounds.`);for(const t of k){a.animations[t.index].tracks.some((([t])=>t===n))&&G(N[t.index])}y[n]=e,A[n]=e},getControlValue:t=>y[$(t)],setPanning:function(t,e){C=t,D=e},setZoom:function(t){P=t},setZIndex:function(t){X=t},render:function(){if(e.useProgram(l),e.bindBuffer(e.ARRAY_BUFFER,R),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,_),e.vertexAttribPointer(S,2,e.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,0),e.enableVertexAttribArray(S),e.vertexAttribPointer(w,2,e.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT),e.enableVertexAttribArray(w),t.width!==L||t.height!==b){const n=t.width,o=t.height,r=i.width/n>i.height/o;O=r?n/i.width:o/i.height,e.uniform2f(I,n,o),B=[n/2/O,o/2/O],L=t.width,b=t.height}e.uniform4f(V,O,P,C,D),e.activeTexture(u),e.bindTexture(e.TEXTURE_2D,h),e.uniform1i(e.getUniformLocation(l,\"uSampler\"),s),e.uniform3f(F,B[0],B[1],.01*X);const n=+new Date;for(const t of k){const e=(n-t.iterationStartedAt)*t.speed,o=a.animations[t.index],i=e%o.duration;if(o.duration<e){if(!z[t.index]){G(o.name);continue}t.iterationStartedAt=n-i;for(const[t]of o.tracks)y[t]=A[t]}for(const[e,a]of o.events){const o=t.iterationStartedAt+e;if(o<n&&o>t.lastRender)for(const n of r)n(a,t.name,e)}t.lastRender=n;for(const[t,e]of o.tracks){const n=d(e,i,y[t]);A[t]=n}}const o=Float32Array.from(a.mutationValues.data);for(const t of a.directControls){const e=A[t.control],n=d(t.trackX,e),r=d(t.trackY,e);t.mixMultiply?(o[2*t.mutation]*=n,o[2*t.mutation+1]*=r):(o[2*t.mutation]+=n,o[2*t.mutation+1]+=r)}e.uniform2fv(v,o),e.uniform1fv(x,A);for(const t of a.shapes)e.uniform3f(M,t.x,t.y,t.z),e.uniform1f(U,t.mutator),e.drawElements(e.TRIANGLES,t.amount,e.UNSIGNED_SHORT,t.start)},onTrackStopped:function(t){return o=o.concat(t),()=>{o=o.filter((e=>e!==t))}},onEvent:function(t){return r=r.concat(t),()=>{r=r.filter((e=>e!==t))}}};return n.push(H),H},destroy:function(){for(const t of n)t.destroy();n.length=0}}};exports.createPlayer=h;\n//# sourceMappingURL=index.js.map\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","\"use strict\";\n\n/* globals document:readonly */\nvar bundleURL = null;\n\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  let matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _plugin() {\n  const data = require(\"@parcel/plugin\");\n\n  _plugin = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _utils() {\n  const data = require(\"@parcel/utils\");\n\n  _utils = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _nullthrows() {\n  const data = _interopRequireDefault(require(\"nullthrows\"));\n\n  _nullthrows = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// List of browsers that support dynamic import natively\n// https://caniuse.com/#feat=es6-module-dynamic-import\nconst DYNAMIC_IMPORT_BROWSERS = {\n  edge: '76',\n  firefox: '67',\n  chrome: '63',\n  safari: '11.1',\n  opera: '50'\n}; // Used for as=\"\" in preload/prefetch\n\nconst TYPE_TO_RESOURCE_PRIORITY = {\n  css: 'style',\n  js: 'script'\n};\nconst BROWSER_PRELOAD_LOADER = './loaders/browser/preload-loader';\nconst BROWSER_PREFETCH_LOADER = './loaders/browser/prefetch-loader';\nconst LOADERS = {\n  browser: {\n    css: './loaders/browser/css-loader',\n    html: './loaders/browser/html-loader',\n    js: './loaders/browser/js-loader',\n    wasm: './loaders/browser/wasm-loader',\n    IMPORT_POLYFILL: './loaders/browser/import-polyfill'\n  },\n  worker: {\n    js: './loaders/worker/js-loader',\n    wasm: './loaders/worker/wasm-loader',\n    IMPORT_POLYFILL: false\n  },\n  node: {\n    css: './loaders/node/css-loader',\n    html: './loaders/node/html-loader',\n    js: './loaders/node/js-loader',\n    wasm: './loaders/node/wasm-loader',\n    IMPORT_POLYFILL: null\n  }\n};\n\nfunction getLoaders(ctx) {\n  if (ctx.isWorker()) return LOADERS.worker;\n  if (ctx.isBrowser()) return LOADERS.browser;\n  if (ctx.isNode()) return LOADERS.node;\n  return null;\n} // This cache should be invalidated if new dependencies get added to the bundle without the bundle objects changing\n// This can happen when we reuse the BundleGraph between subsequent builds\n\n\nlet bundleDependencies = new WeakMap();\n\nvar _default = new (_plugin().Runtime)({\n  apply({\n    bundle,\n    bundleGraph,\n    options\n  }) {\n    // Dependency ids in code replaced with referenced bundle names\n    // Loader runtime added for bundle groups that don't have a native loader (e.g. HTML/CSS/Worker - isURL?),\n    // and which are not loaded by a parent bundle.\n    // Loaders also added for modules that were moved to a separate bundle because they are a different type\n    // (e.g. WASM, HTML). These should be preloaded prior to the bundle being executed. Replace the entry asset(s)\n    // with the preload module.\n    if (bundle.type !== 'js') {\n      return;\n    }\n\n    let {\n      asyncDependencies,\n      otherDependencies\n    } = getDependencies(bundle);\n    let assets = [];\n\n    for (let dependency of asyncDependencies) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (resolved == null) {\n        continue;\n      }\n\n      if (resolved.type === 'asset') {\n        if (!bundle.env.shouldScopeHoist) {\n          // If this bundle already has the asset this dependency references,\n          // return a simple runtime of `Promise.resolve(internalRequire(assetId))`.\n          // The linker handles this for scope-hoisting.\n          assets.push({\n            filePath: __filename,\n            code: `module.exports = Promise.resolve(module.bundle.root(${JSON.stringify(bundleGraph.getAssetPublicId(resolved.value))}))`,\n            dependency\n          });\n        }\n      } else {\n        let loaderRuntime = getLoaderRuntime({\n          bundle,\n          dependency,\n          bundleGraph,\n          bundleGroup: resolved.value,\n          options\n        });\n\n        if (loaderRuntime != null) {\n          assets.push(loaderRuntime);\n        }\n      }\n    }\n\n    for (let dependency of otherDependencies) {\n      // Resolve the dependency to a bundle. If inline, export the dependency id,\n      // which will be replaced with the contents of that bundle later.\n      let referencedBundle = bundleGraph.getReferencedBundle(dependency, bundle);\n\n      if (referencedBundle !== null && referencedBundle !== void 0 && referencedBundle.isInline) {\n        assets.push({\n          filePath: _path().default.join(__dirname, `/bundles/${referencedBundle.id}.js`),\n          code: `module.exports = ${JSON.stringify(dependency.id)};`,\n          dependency\n        });\n        continue;\n      } // Otherwise, try to resolve the dependency to an external bundle group\n      // and insert a URL to that bundle.\n\n\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (dependency.isURL && resolved == null) {\n        // If a URL dependency was not able to be resolved, add a runtime that\n        // exports the original moduleSpecifier.\n        assets.push({\n          filePath: __filename,\n          code: `module.exports = ${JSON.stringify(dependency.moduleSpecifier)}`,\n          dependency\n        });\n        continue;\n      }\n\n      if (resolved == null || resolved.type !== 'bundle_group') {\n        continue;\n      }\n\n      let bundleGroup = resolved.value;\n      let mainBundle = (0, _nullthrows().default)(bundleGraph.getBundlesInBundleGroup(bundleGroup).find(b => {\n        let entries = b.getEntryAssets();\n        return entries.some(e => bundleGroup.entryAssetId === e.id);\n      }));\n\n      if (bundle.env.outputFormat === 'commonjs' && mainBundle.type === 'js') {\n        assets.push({\n          filePath: __filename,\n          dependency,\n          code: `module.exports = require(\"./\" + ${getRelativePathExpr(bundle, mainBundle, options)})`\n        });\n        continue;\n      } // URL dependency or not, fall back to including a runtime that exports the url\n\n\n      assets.push(getURLRuntime(dependency, bundle, mainBundle, options));\n    } // In development, bundles can be created lazily. This means that the parent bundle may not\n    // know about all of the sibling bundles of a child when it is written for the first time.\n    // Therefore, we need to also ensure that the siblings are loaded when the child loads.\n\n\n    if (options.shouldBuildLazily && bundle.env.outputFormat === 'global') {\n      let referenced = bundleGraph.getReferencedBundles(bundle).filter(b => !b.isInline);\n\n      for (let referencedBundle of referenced) {\n        let loaders = getLoaders(bundle.env);\n\n        if (!loaders) {\n          continue;\n        }\n\n        let loader = loaders[referencedBundle.type];\n\n        if (!loader) {\n          continue;\n        }\n\n        let relativePathExpr = getRelativePathExpr(bundle, referencedBundle, options);\n        let loaderCode = `require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr})`;\n        assets.push({\n          filePath: __filename,\n          code: loaderCode,\n          isEntry: true\n        });\n      }\n    }\n\n    if (shouldUseRuntimeManifest(bundle, options) && bundleGraph.getChildBundles(bundle).length > 0 && isNewContext(bundle, bundleGraph)) {\n      assets.push({\n        filePath: __filename,\n        code: getRegisterCode(bundle, bundleGraph),\n        isEntry: true\n      });\n    }\n\n    return assets;\n  }\n\n});\n\nexports.default = _default;\n\nfunction getDependencies(bundle) {\n  let cachedDependencies = bundleDependencies.get(bundle);\n\n  if (cachedDependencies) {\n    return cachedDependencies;\n  } else {\n    let asyncDependencies = [];\n    let otherDependencies = [];\n    bundle.traverse(node => {\n      if (node.type !== 'dependency') {\n        return;\n      }\n\n      let dependency = node.value;\n\n      if (dependency.isAsync && !dependency.isURL) {\n        asyncDependencies.push(dependency);\n      } else {\n        otherDependencies.push(dependency);\n      }\n    });\n    bundleDependencies.set(bundle, {\n      asyncDependencies,\n      otherDependencies\n    });\n    return {\n      asyncDependencies,\n      otherDependencies\n    };\n  }\n}\n\nfunction getLoaderRuntime({\n  bundle,\n  dependency,\n  bundleGroup,\n  bundleGraph,\n  options\n}) {\n  let loaders = getLoaders(bundle.env);\n\n  if (loaders == null) {\n    return;\n  }\n\n  let externalBundles = bundleGraph.getBundlesInBundleGroup(bundleGroup).filter(bundle => !bundle.isInline);\n  let mainBundle = (0, _nullthrows().default)(externalBundles.find(bundle => {\n    var _bundle$getMainEntry;\n\n    return ((_bundle$getMainEntry = bundle.getMainEntry()) === null || _bundle$getMainEntry === void 0 ? void 0 : _bundle$getMainEntry.id) === bundleGroup.entryAssetId;\n  })); // CommonJS is a synchronous module system, so there is no need to load bundles in parallel.\n  // Importing of the other bundles will be handled by the bundle group entry.\n  // Do the same thing in library mode for ES modules, as we are building for another bundler\n  // and the imports for sibling bundles will be in the target bundle.\n  // Also do this when building lazily or the runtime itself could get deduplicated and only\n  // exist in the parent. This causes errors if an old version of the parent without the runtime\n  // is already loaded.\n\n  if (bundle.env.outputFormat === 'commonjs' || bundle.env.isLibrary || options.shouldBuildLazily) {\n    externalBundles = [mainBundle];\n  } else {\n    // Otherwise, load the bundle group entry after the others.\n    externalBundles.splice(externalBundles.indexOf(mainBundle), 1);\n    externalBundles.reverse().push(mainBundle);\n  } // Determine if we need to add a dynamic import() polyfill, or if all target browsers support it natively.\n\n\n  let needsDynamicImportPolyfill = false;\n\n  if (bundle.env.isBrowser() && bundle.env.outputFormat === 'esmodule') {\n    needsDynamicImportPolyfill = !bundle.env.matchesEngines(DYNAMIC_IMPORT_BROWSERS);\n  }\n\n  let loaderModules = externalBundles.map(to => {\n    let loader = loaders[to.type];\n\n    if (!loader) {\n      return;\n    }\n\n    let relativePathExpr = getRelativePathExpr(bundle, to, options); // Use esmodule loader if possible\n\n    if (to.type === 'js' && to.env.outputFormat === 'esmodule') {\n      if (!needsDynamicImportPolyfill) {\n        return `import(\"./\" + ${relativePathExpr})`;\n      }\n\n      loader = (0, _nullthrows().default)(loaders.IMPORT_POLYFILL, `No import() polyfill available for context '${bundle.env.context}'`);\n    } else if (to.type === 'js' && to.env.outputFormat === 'commonjs') {\n      return `Promise.resolve(require(\"./\" + ${relativePathExpr}))`;\n    }\n\n    let code = `require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr})`; // In development, clear the require cache when an error occurs so the\n    // user can try again (e.g. after fixing a build error).\n\n    if (options.mode === 'development' && bundle.env.outputFormat === 'global') {\n      code += '.catch(err => {delete module.bundle.cache[module.id]; throw err;})';\n    }\n\n    return code;\n  }).filter(Boolean);\n\n  if (bundle.env.context === 'browser' && !options.shouldBuildLazily) {\n    loaderModules.push(...externalBundles // TODO: Allow css to preload resources as well\n    .filter(to => to.type === 'js').flatMap(from => {\n      let {\n        preload,\n        prefetch\n      } = getHintedBundleGroups(bundleGraph, from);\n      return [...getHintLoaders(bundleGraph, bundle, preload, BROWSER_PRELOAD_LOADER, options), ...getHintLoaders(bundleGraph, bundle, prefetch, BROWSER_PREFETCH_LOADER, options)];\n    }));\n  }\n\n  if (loaderModules.length === 0) {\n    return;\n  }\n\n  let loaderCode = loaderModules.join(', ');\n\n  if (loaderModules.length > 1 && (bundle.env.outputFormat === 'global' || !externalBundles.every(b => b.type === 'js'))) {\n    loaderCode = `Promise.all([${loaderCode}])`;\n\n    if (bundle.env.outputFormat !== 'global') {\n      loaderCode += `.then(r => r[r.length - 1])`;\n    }\n  } else {\n    loaderCode = `(${loaderCode})`;\n  }\n\n  if (bundle.env.outputFormat === 'global' && mainBundle.type === 'js') {\n    loaderCode += `.then(() => module.bundle.root('${bundleGraph.getAssetPublicId(bundleGraph.getAssetById(bundleGroup.entryAssetId))}')${// In global output with scope hoisting, functions return exports are\n    // always returned. Otherwise, the exports are returned.\n    bundle.env.shouldScopeHoist ? '()' : ''})`;\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = ${loaderCode};`,\n    dependency\n  };\n}\n\nfunction getHintedBundleGroups(bundleGraph, bundle) {\n  let preload = [];\n  let prefetch = [];\n  let {\n    asyncDependencies\n  } = getDependencies(bundle);\n\n  for (let dependency of asyncDependencies) {\n    var _dependency$meta;\n\n    let attributes = (_dependency$meta = dependency.meta) === null || _dependency$meta === void 0 ? void 0 : _dependency$meta.importAttributes;\n\n    if (typeof attributes === 'object' && attributes != null && ( // $FlowFixMe\n    attributes.preload || attributes.prefetch)) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if ((resolved === null || resolved === void 0 ? void 0 : resolved.type) === 'bundle_group') {\n        // === true for flow\n        if (attributes.preload === true) {\n          preload.push(resolved.value);\n        }\n\n        if (attributes.prefetch === true) {\n          prefetch.push(resolved.value);\n        }\n      }\n    }\n  }\n\n  return {\n    preload,\n    prefetch\n  };\n}\n\nfunction getHintLoaders(bundleGraph, from, bundleGroups, loader, options) {\n  let hintLoaders = [];\n\n  for (let bundleGroupToPreload of bundleGroups) {\n    let bundlesToPreload = bundleGraph.getBundlesInBundleGroup(bundleGroupToPreload);\n\n    for (let bundleToPreload of bundlesToPreload) {\n      let relativePathExpr = getRelativePathExpr(from, bundleToPreload, options);\n      let priority = TYPE_TO_RESOURCE_PRIORITY[bundleToPreload.type];\n      hintLoaders.push(`require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr}, ${priority ? JSON.stringify(priority) : 'null'}, ${JSON.stringify(bundleToPreload.target.env.outputFormat === 'esmodule')})`);\n    }\n  }\n\n  return hintLoaders;\n}\n\nfunction isNewContext(bundle, bundleGraph) {\n  let parents = bundleGraph.getParentBundles(bundle);\n  return bundle.isEntry || parents.length === 0 || parents.some(parent => parent.env.context !== bundle.env.context || parent.type !== 'js');\n}\n\nfunction getURLRuntime(dependency, from, to, options) {\n  let relativePathExpr = getRelativePathExpr(from, to, options);\n\n  if (dependency.meta.webworker === true) {\n    return {\n      filePath: __filename,\n      code: `module.exports = require('./get-worker-url')(${relativePathExpr});`,\n      dependency\n    };\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = require('./bundle-url').getBundleURL() + ${relativePathExpr}`,\n    dependency\n  };\n}\n\nfunction getRegisterCode(entryBundle, bundleGraph) {\n  let idToName = {};\n  bundleGraph.traverseBundles((bundle, _, actions) => {\n    if (bundle.isInline) {\n      return;\n    }\n\n    idToName[bundle.publicId] = (0, _nullthrows().default)(bundle.name);\n\n    if (bundle !== entryBundle && isNewContext(bundle, bundleGraph)) {\n      // New contexts have their own manifests, so there's no need to continue.\n      actions.skipChildren();\n    }\n  }, entryBundle);\n  return \"require('./bundle-manifest').register(JSON.parse(\" + JSON.stringify(JSON.stringify(idToName)) + '));';\n}\n\nfunction getRelativePathExpr(from, to, options) {\n  if (shouldUseRuntimeManifest(from, options)) {\n    return `require('./relative-path')(${JSON.stringify(from.publicId)}, ${JSON.stringify(to.publicId)})`;\n  }\n\n  return JSON.stringify((0, _utils().relativeBundlePath)(from, to, {\n    leadingDotSlash: false\n  }));\n}\n\nfunction shouldUseRuntimeManifest(bundle, options) {\n  let env = bundle.env;\n  return !env.isLibrary && env.outputFormat === 'global' && env.isBrowser() && options.mode === 'production';\n}","{\"animations\":[{\"name\":\"Wheel\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"WheelRotate\":1}},{\"time\":19200,\"controlValues\":{\"WheelRotate\":0}}]},{\"name\":\"Tree\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"TreeLeaves1\":0}},{\"time\":500,\"controlValues\":{\"TreeLeaves2\":0}},{\"time\":8000,\"controlValues\":{\"TreeLeaves1\":1}},{\"time\":8500,\"controlValues\":{\"TreeLeaves2\":1}},{\"time\":16000,\"controlValues\":{\"TreeLeaves1\":0,\"TreeLeaves2\":0.04}}]},{\"name\":\"Bird\",\"looping\":true,\"keyframes\":[{\"time\":6000,\"controlValues\":{\"Beak\":0}},{\"time\":6200,\"controlValues\":{\"Beak\":1}},{\"time\":7000,\"controlValues\":{\"Beak\":1}},{\"time\":7200,\"controlValues\":{\"Beak\":0}}]},{\"name\":\"Cloud1\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"Cloud1\":0.5}},{\"time\":20000,\"controlValues\":{\"Cloud1\":1}},{\"time\":20001,\"controlValues\":{\"Cloud1\":0}},{\"time\":40000,\"controlValues\":{\"Cloud1\":0.5}}]},{\"name\":\"Eyes\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"EyesBlink\":1}},{\"time\":3000,\"controlValues\":{\"EyesBlink\":1}},{\"time\":3300,\"controlValues\":{\"EyesBlink\":0}},{\"time\":3500,\"controlValues\":{\"EyesBlink\":0}},{\"time\":3700,\"controlValues\":{\"EyesBlink\":1}}]},{\"name\":\"ButterflyWings\",\"looping\":true,\"keyframes\":[{\"time\":300,\"controlValues\":{\"ButterflyWings\":1}},{\"time\":600,\"controlValues\":{\"ButterflyWings\":0}}]},{\"name\":\"Smoke\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"Rook\":0,\"Smoke\":0}},{\"time\":10000,\"controlValues\":{\"Rook\":1,\"Smoke\":1}}]},{\"name\":\"Cloud2\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"Cloud2\":0.8}},{\"time\":30000,\"controlValues\":{\"Cloud2\":0}},{\"time\":30001,\"controlValues\":{\"Cloud2\":1}},{\"time\":40000,\"controlValues\":{\"Cloud2\":0.8}}]},{\"name\":\"Cloud3\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"Cloud3\":0.2}},{\"time\":10000,\"controlValues\":{\"Cloud3\":0}},{\"time\":10001,\"controlValues\":{\"Cloud3\":1}},{\"time\":40000,\"controlValues\":{\"Cloud3\":0.2}}]},{\"name\":\"WheelBlades\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"WheelBlades\":0}},{\"time\":1600,\"controlValues\":{\"WheelBlades\":1}}]},{\"name\":\"Water\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"Bubble\":1.6,\"Bubble2\":0.9,\"Bubble3\":0.3}},{\"time\":400,\"controlValues\":{\"Bubble\":2}},{\"time\":401,\"controlValues\":{\"Bubble\":0}},{\"time\":1600,\"controlValues\":{\"Bubble2\":1.6,\"Bubble3\":0.9,\"Bubble\":0.3}},{\"time\":2000,\"controlValues\":{\"Bubble2\":2}},{\"time\":2001,\"controlValues\":{\"Bubble2\":0}},{\"time\":3200,\"controlValues\":{\"Bubble3\":1.6,\"Bubble\":0.9,\"Bubble2\":0.3}},{\"time\":3600,\"controlValues\":{\"Bubble3\":2}},{\"time\":3601,\"controlValues\":{\"Bubble3\":0}},{\"time\":4800,\"controlValues\":{\"Bubble2\":0.9,\"Bubble3\":0.3,\"Bubble\":1.6}}]}],\"controlValues\":{\"WheelRotate\":0.78,\"TreeLeaves1\":0,\"TreeLeaves2\":0.19,\"Beak\":0,\"Cloud1\":0.5,\"EyesBlink\":1,\"ButterflyWings\":0,\"Rook\":1,\"Cloud2\":0.8,\"Cloud3\":1,\"New Control\":1,\"Butterflyturn\":1,\"ButterflyZoom\":1,\"ButterflyX\":0.49,\"ButterflyY\":0.29,\"ButterflyTurn\":0,\"WheelBlades\":0.66,\"Smoke\":0,\"Buble\":1.46,\"Bubble\":0.3,\"Bubble2\":0.9,\"Bubble3\":1.6},\"controls\":[{\"name\":\"Bubble3\",\"type\":\"slider\",\"steps\":[{\"o\":[-11,0]},{\"o\":[-77,49]},{\"o\":[-126,107]}]},{\"name\":\"Bubble2\",\"type\":\"slider\",\"steps\":[{\"n\":[-9,2]},{\"n\":[-75,51]},{\"n\":[-130,110]}]},{\"name\":\"Bubble\",\"type\":\"slider\",\"steps\":[{\"m\":[-19,0]},{\"m\":[-85,43]},{\"m\":[-149,115]}]},{\"name\":\"WheelBlades\",\"type\":\"slider\",\"steps\":[{\"u\":[0,0],\"v\":[1,0.8],\"w\":[0,0],\"x\":[1,0],\"z\":[0,0],\"y\":[1,1],\"r\":[0,0],\"s\":[0.65,1],\"t\":[11,0],\"C\":[33,0],\"B\":[1,0.03],\"A\":[0,0],\"D\":[43,0]},{\"u\":[-33,-19],\"v\":[1,0.7],\"w\":[10,0],\"x\":[-31,-65],\"z\":[13,0],\"y\":[1,0.75],\"r\":[-10,-83],\"s\":[0.66,0.05],\"t\":[0,0],\"C\":[17,0],\"B\":[1,-0.37],\"A\":[9,-88],\"D\":[-2,0]}]},{\"name\":\"Smoke\",\"type\":\"slider\",\"steps\":[{\"I\":[0,0]},{\"I\":[0,-128]}]},{\"name\":\"ButterflyY\",\"type\":\"slider\",\"steps\":[{\"f\":[0,-216]},{\"f\":[0,210]}]},{\"name\":\"ButterflyX\",\"type\":\"slider\",\"steps\":[{\"f\":[-400,0]},{\"f\":[200,0]}]},{\"name\":\"ButterflyZoom\",\"type\":\"slider\",\"steps\":[{\"g\":[1,1]},{\"g\":[0.5,0.5]}]},{\"name\":\"ButterflyTurn\",\"type\":\"slider\",\"steps\":[{\"g\":[1,1]},{\"g\":[-1,1]}]},{\"name\":\"ButterflyWings\",\"type\":\"slider\",\"steps\":[{\"i\":[1,1],\"j\":[1,1]},{\"i\":[1,-1.05],\"j\":[1,-0.4]}]},{\"name\":\"EyesBlink\",\"type\":\"slider\",\"steps\":[{\"N\":[1,1]},{\"N\":[0,0]}]},{\"name\":\"Cloud1\",\"type\":\"slider\",\"steps\":[{\"K\":[1200,0]},{\"K\":[-1300,0]}]},{\"name\":\"Cloud2\",\"type\":\"slider\",\"steps\":[{\"L\":[-2101,0]},{\"L\":[270,0]}]},{\"name\":\"Cloud3\",\"type\":\"slider\",\"steps\":[{\"M\":[-546,0]},{\"M\":[1753,0]}]},{\"name\":\"Beak\",\"type\":\"slider\",\"steps\":[{\"e\":[0,0],\"d\":[0,0]},{\"e\":[-19,0],\"d\":[7,0]}]},{\"name\":\"TreeLeaves2\",\"type\":\"slider\",\"steps\":[{\"k\":[-42,0],\"b\":[-11,0],\"J\":[-12,0],\"O\":[0,0]},{\"k\":[48,0],\"b\":[8,0],\"J\":[13,0],\"O\":[0,13]}]},{\"name\":\"TreeLeaves1\",\"type\":\"slider\",\"steps\":[{\"l\":[-27,0],\"a\":[-13,0],\"c\":[-6,0]},{\"l\":[40,0],\"a\":[12,0],\"c\":[11,0]}]},{\"name\":\"WheelRotate\",\"type\":\"slider\",\"steps\":[{\"F\":[0,0],\"q\":[0,0]},{\"F\":[360,0],\"q\":[360,0]}]}],\"defaultFrame\":{\"p\":[0.45,1],\"E\":[0.45,1],\"q\":[0,0],\"F\":[90,0],\"l\":[0,0],\"k\":[0,0],\"d\":[0,0],\"e\":[0,0],\"a\":[0,0],\"b\":[0,0],\"c\":[0,0],\"N\":[1,0],\"i\":[1,1],\"j\":[1,0.85],\"h\":[-41,0],\"H\":[37,0],\"G\":[23,0],\"g\":[1,1],\"J\":[0,0],\"v\":[1,1],\"w\":[0,0],\"y\":[1,0.7],\"z\":[10,0],\"s\":[1,0.53],\"r\":[-8,3],\"t\":[24,0],\"B\":[1,1],\"A\":[30,-25],\"C\":[0,0],\"O\":[0,-9]},\"shapes\":[{\"type\":\"sprite\",\"points\":[[277,1220],[295,1149],[308,1110],[345,1126],[350,1160],[345,1201],[331,1226],[387,1236],[379,1191],[379,1138],[398,1097],[423,1071],[449,1103],[457,1134],[457,1167],[463,1211],[454,1240],[502,1244],[493,1212],[490,1173],[495,1127],[502,1087],[528,1079],[566,1097],[571,1139],[587,1175],[582,1211],[562,1240],[622,1177],[621,1146],[621,1111],[643,1079],[672,1109],[680,1147],[651,1178],[678,1195],[693,1138],[706,1124],[706,1088],[724,1090],[737,1112],[744,1135],[747,1169],[728,1198]],\"translate\":[429,-310],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[289,-335],\"name\":\"a\",\"radius\":73},{\"type\":\"deform\",\"origin\":[453,-353],\"name\":\"b\",\"radius\":83},{\"type\":\"deform\",\"origin\":[600,-355],\"name\":\"c\",\"radius\":66}],\"name\":\"a\"},{\"name\":\"b\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[1119,1056],[1120,1068],[1171,1065],[1168,1055]],\"translate\":[112,-386],\"mutationVectors\":[{\"type\":\"rotate\",\"origin\":[88,-386],\"name\":\"d\"}],\"name\":\"c\"},{\"type\":\"sprite\",\"points\":[[1120,1091],[1120,1101],[1151,1101],[1152,1092]],\"translate\":[104,-384],\"mutationVectors\":[{\"type\":\"rotate\",\"origin\":[90,-384],\"name\":\"e\"}],\"name\":\"d\"}],\"mutationVectors\":[]},{\"name\":\"e\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[63,1352],[137,1356],[143,1311],[65,1308]],\"translate\":[760,222],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[753,241],\"name\":\"i\"}],\"name\":\"f\"},{\"type\":\"sprite\",\"points\":[[61,1376],[61,1358],[130,1363],[130,1379]],\"translate\":[747,240],\"mutationVectors\":[],\"name\":\"g\"},{\"type\":\"sprite\",\"points\":[[63,1352],[137,1356],[143,1311],[65,1308]],\"translate\":[757,222],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[752,243],\"name\":\"j\"}],\"name\":\"h\"}],\"mutationVectors\":[{\"name\":\"f\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1},{\"type\":\"stretch\",\"origin\":[765,236],\"name\":\"g\"},{\"type\":\"rotate\",\"origin\":[754,244],\"name\":\"h\"}]},{\"name\":\"i\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[2012,1214],[2016,1361],[2009,1423],[2010,1476],[2002,1510],[2019,1564],[2004,1586],[2000,1626],[2009,1656],[1994,1683],[1994,1716],[1959,1716],[1953,1683],[1955,1620],[1952,1566],[1955,1504],[1957,1433],[1966,1348],[1976,1279],[1975,1240],[1975,1220],[1952,1259],[1945,1283],[1944,1319],[1939,1347],[1932,1385],[1922,1417],[1914,1453],[1901,1483],[1900,1512],[1902,1548],[1911,1582],[1902,1605],[1904,1631],[1904,1663],[1877,1672],[1862,1649],[1861,1593],[1852,1545],[1857,1495],[1863,1458],[1864,1396],[1876,1347],[1861,1353],[1853,1390],[1849,1421],[1852,1453],[1842,1482],[1842,1510],[1846,1540],[1845,1579],[1845,1607],[1849,1635],[1842,1656],[1856,1699],[1833,1715],[1813,1699],[1807,1670],[1802,1632],[1801,1591],[1801,1553],[1803,1512],[1805,1475],[1808,1435],[1808,1397],[1814,1357],[1818,1336],[1802,1330],[1786,1364],[1777,1383],[1780,1407],[1789,1440],[1786,1471],[1769,1501],[1766,1522],[1773,1552],[1782,1589],[1778,1617],[1755,1627],[1736,1611],[1721,1571],[1724,1533],[1727,1499],[1729,1465],[1729,1427],[1733,1393],[1738,1364],[1743,1323],[1752,1294],[1760,1262],[1780,1252],[1811,1261],[1829,1265],[1865,1247],[1786,1229],[1728,1232],[1749,1680]],\"translate\":[883,-221],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[906,-79],\"name\":\"k\",\"radius\":298}],\"name\":\"j\"},{\"type\":\"sprite\",\"points\":[[1442,1246],[1679,1233],[1654,1356],[1643,1500],[1640,1638],[1642,1721],[1632,1752],[1595,1746],[1579,1705],[1573,1638],[1568,1572],[1569,1508],[1573,1420],[1573,1383],[1564,1412],[1559,1458],[1551,1502],[1552,1545],[1550,1573],[1541,1615],[1540,1647],[1520,1664],[1502,1652],[1497,1617],[1496,1577],[1504,1536],[1504,1497],[1504,1462],[1516,1424],[1520,1388],[1506,1385],[1509,1425],[1498,1452],[1495,1473],[1492,1501],[1485,1513],[1493,1543],[1490,1576],[1469,1580],[1454,1568],[1446,1538],[1444,1500],[1454,1466],[1456,1442],[1451,1401],[1458,1363],[1463,1335],[1424,1274],[1422,1396],[1423,1483],[1427,1557],[1438,1617],[1687,1739],[1678,1603],[1675,1440]],\"translate\":[901,-220],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[895,-93],\"name\":\"l\",\"radius\":298}],\"name\":\"k\"}],\"mutationVectors\":[]},{\"name\":\"l\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[947,1271],[1382,1271],[1409,1821],[962,1871]],\"translate\":[79,56],\"mutationVectors\":[],\"name\":\"m\"},{\"name\":\"n\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[782,1778],[797,1755],[857,1773],[835,1804]],\"translate\":[95,171],\"mutationVectors\":[{\"name\":\"m\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"o\"},{\"type\":\"sprite\",\"points\":[[782,1796],[755,1819],[800,1842],[823,1811]],\"translate\":[73,171],\"mutationVectors\":[{\"name\":\"n\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"p\"},{\"type\":\"sprite\",\"points\":[[747,1839],[723,1861],[762,1883],[781,1863]],\"translate\":[71,172],\"mutationVectors\":[{\"name\":\"o\",\"type\":\"translate\",\"origin\":[71,172],\"radius\":-1}],\"name\":\"q\"}],\"mutationVectors\":[]},{\"type\":\"sprite\",\"points\":[[1076,1892],[1187,1888],[1192,1978],[1073,1983]],\"translate\":[33,193],\"mutationVectors\":[],\"name\":\"r\"},{\"type\":\"sprite\",\"points\":[[340,1312],[703,1312],[703,1675],[340,1675]],\"translate\":[142,5],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[141,4],\"name\":\"p\"},{\"type\":\"rotate\",\"origin\":[141,4],\"name\":\"q\"}],\"name\":\"s\"},{\"type\":\"sprite\",\"points\":[[775,1306],[899,1303],[907,1682],[771,1678]],\"translate\":[102,6],\"mutationVectors\":[],\"name\":\"t\"},{\"name\":\"u\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[63,1216],[63,1269],[185,1216],[184,1269]],\"translate\":[48,56],\"mutationVectors\":[{\"name\":\"r\",\"type\":\"translate\",\"origin\":[48,56],\"radius\":-1},{\"type\":\"stretch\",\"origin\":[-12,82],\"name\":\"s\"},{\"name\":\"t\",\"type\":\"translate\",\"origin\":[-12,31],\"radius\":6}],\"name\":\"v\"},{\"type\":\"sprite\",\"points\":[[63,1216],[63,1269],[185,1216],[184,1269]],\"translate\":[105,142],\"mutationVectors\":[{\"name\":\"u\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1},{\"type\":\"stretch\",\"origin\":[97,168],\"name\":\"v\"},{\"name\":\"w\",\"type\":\"translate\",\"origin\":[46,113],\"radius\":24}],\"name\":\"w\"},{\"type\":\"sprite\",\"points\":[[63,1216],[63,1269],[185,1216],[184,1269]],\"translate\":[71,122],\"mutationVectors\":[{\"name\":\"x\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1},{\"type\":\"stretch\",\"origin\":[62,152],\"name\":\"y\"},{\"name\":\"z\",\"type\":\"translate\",\"origin\":[14,98],\"radius\":16}],\"name\":\"x\"},{\"type\":\"sprite\",\"points\":[[63,1216],[63,1269],[185,1216],[184,1269]],\"translate\":[0,0],\"mutationVectors\":[{\"name\":\"A\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1},{\"type\":\"stretch\",\"origin\":[-60,27],\"name\":\"B\"},{\"name\":\"C\",\"type\":\"translate\",\"origin\":[-61,-27],\"radius\":8}],\"name\":\"y\"},{\"type\":\"sprite\",\"points\":[[63,1216],[63,1269],[185,1216],[184,1269]],\"translate\":[107,149],\"mutationVectors\":[{\"name\":\"D\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"z\"}],\"mutationVectors\":[]},{\"type\":\"sprite\",\"points\":[[340,1312],[703,1312],[703,1675],[340,1675]],\"translate\":[48,0],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[48,0],\"name\":\"E\"},{\"type\":\"rotate\",\"origin\":[48,0],\"name\":\"F\"}],\"name\":\"A\"}],\"mutationVectors\":[]},{\"type\":\"sprite\",\"points\":[[814,123],[869,119],[930,128],[934,133],[936,264],[810,268]],\"translate\":[-151,-319],\"mutationVectors\":[],\"name\":\"B\"},{\"type\":\"sprite\",\"points\":[[96,1696],[96,1440],[236,1440],[236,1696],[96,1664],[96,1472],[96,1504],[96,1536],[96,1568],[96,1600],[96,1632],[236,1472],[236,1504],[236,1536],[236,1568],[236,1600],[236,1632],[236,1664],[46,1696],[46,1630],[46,1440],[46,1568],[46,1504],[285,1440],[285,1504],[285,1568],[285,1632],[285,1696]],\"translate\":[-147,-384],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[-227,-407],\"name\":\"G\",\"radius\":64},{\"type\":\"deform\",\"origin\":[-73,-496],\"name\":\"H\",\"radius\":63},{\"name\":\"I\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"C\"},{\"type\":\"sprite\",\"points\":[[1129,1236],[1129,1201],[1125,1160],[1141,1159],[1143,1197],[1145,1237],[1160,1238],[1158,1199],[1161,1160],[1175,1159],[1173,1200],[1174,1240]],\"translate\":[325,-77],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[326,-121],\"name\":\"J\",\"radius\":55}],\"name\":\"D\"},{\"name\":\"E\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[1038,1136],[758,1140],[758,1070],[1021,1065]],\"translate\":[77,-454],\"mutationVectors\":[{\"name\":\"K\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"F\"},{\"type\":\"sprite\",\"points\":[[1251,1049],[1258,1119],[1464,1119],[1447,1055]],\"translate\":[906,-458],\"mutationVectors\":[{\"name\":\"L\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"G\"},{\"type\":\"sprite\",\"points\":[[62,1106],[63,1159],[237,1158],[231,1107]],\"translate\":[-603,-444],\"mutationVectors\":[{\"name\":\"M\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"H\"}],\"mutationVectors\":[]},{\"type\":\"sprite\",\"points\":[[1416,1009],[1451,1020],[1456,1002],[1428,988]],\"translate\":[431,473],\"mutationVectors\":[{\"type\":\"opacity\",\"origin\":[0,0],\"name\":\"N\"}],\"name\":\"I\"},{\"type\":\"sprite\",\"points\":[[847,1204],[853,1204],[853,1217],[848,1217],[843,1220],[845,1229],[858,1227]],\"translate\":[-356,-247],\"mutationVectors\":[{\"name\":\"O\",\"type\":\"translate\",\"origin\":[-356,-241],\"radius\":9}],\"name\":\"J\"},{\"type\":\"sprite\",\"points\":[[0,0],[0,1024],[2048,1024],[2048,0]],\"translate\":[0,0],\"mutationVectors\":[],\"name\":\"K\"}],\"version\":\"1.0\"}","{\"animations\":[{\"name\":\"Eye blink\",\"looping\":true,\"keyframes\":[{\"time\":2500,\"controlValues\":{\"LeftEyeClose\":0,\"RightEyeClose\":0}},{\"time\":2750,\"controlValues\":{\"LeftEyeClose\":1,\"RightEyeClose\":1}},{\"time\":3000,\"controlValues\":{\"RightEyeClose\":0,\"LeftEyeClose\":0}}]},{\"name\":\"Look around\",\"looping\":true,\"keyframes\":[{\"time\":1000,\"controlValues\":{\"LeftEye-x\":0.18,\"RightEye-x\":0.24}},{\"time\":2000,\"controlValues\":{\"LeftEye-x\":1,\"RightEye-x\":1.02}},{\"time\":3980,\"controlValues\":{\"LeftEye-x\":1.02,\"RightEye-x\":1}},{\"time\":5000,\"controlValues\":{\"RightEye-x\":1.8,\"LeftEye-x\":1.84}},{\"time\":6000,\"controlValues\":{\"LeftEye-x\":0.98,\"RightEye-x\":1.06}},{\"time\":8000,\"controlValues\":{\"RightEye-x\":1,\"LeftEye-x\":1}}]},{\"name\":\"Talking\",\"looping\":true,\"keyframes\":[{\"time\":1000,\"controlValues\":{\"Mouth\":0}},{\"time\":1340,\"controlValues\":{\"Mouth\":0.62}},{\"time\":1670,\"controlValues\":{\"Mouth\":0}},{\"time\":2120,\"controlValues\":{\"Mouth\":0}},{\"time\":2430,\"controlValues\":{\"Mouth\":0.68}},{\"time\":2790,\"controlValues\":{\"Mouth\":0.24}},{\"time\":3160,\"controlValues\":{\"Mouth\":1}},{\"time\":3470,\"controlValues\":{\"Mouth\":0}}]},{\"name\":\"No\",\"looping\":false,\"keyframes\":[{\"time\":510,\"controlValues\":{\"HeadTurn\":0.38}},{\"time\":1270,\"controlValues\":{\"HeadTurn\":0}},{\"time\":2180,\"controlValues\":{\"HeadTurn\":1}},{\"time\":2990,\"controlValues\":{\"HeadTurn\":0}},{\"time\":3980,\"controlValues\":{\"HeadTurn\":0.48}}]},{\"name\":\"HeadTilt\",\"looping\":true,\"keyframes\":[{\"time\":1000,\"controlValues\":{\"HeadTilt\":0.42}},{\"time\":6000,\"controlValues\":{\"HeadTilt\":0.53}},{\"time\":9000,\"controlValues\":{\"HeadTilt\":0.14}},{\"time\":12000,\"controlValues\":{\"HeadTilt\":0.43}}]},{\"name\":\"EyeWink\",\"looping\":false,\"keyframes\":[{\"time\":500,\"controlValues\":{\"RightEyeClose\":0,\"LeftEyeClose\":0}},{\"time\":800,\"controlValues\":{\"RightEyeClose\":1}},{\"time\":1200,\"controlValues\":{\"RightEyeClose\":1}},{\"time\":1500,\"controlValues\":{\"RightEyeClose\":0}}]},{\"name\":\"Eyebrows\",\"looping\":true,\"keyframes\":[{\"time\":990,\"controlValues\":{\"Eyebrows\":1.32}},{\"time\":3940,\"controlValues\":{\"Eyebrows\":0.92}},{\"time\":6820,\"controlValues\":{\"Eyebrows\":1.88}},{\"time\":10220,\"controlValues\":{\"Eyebrows\":0.88}}]},{\"name\":\"StopTalking\",\"looping\":false,\"keyframes\":[{\"time\":310,\"controlValues\":{\"Mouth\":0}}]},{\"name\":\"EyebrowReset\",\"looping\":false,\"keyframes\":[{\"time\":530,\"controlValues\":{\"Eyebrows\":1}}]}],\"controlValues\":{\"Eyebrows\":1,\"HeadTilt\":0.55,\"HeadTurn\":0.5,\"Mouth\":0,\"RightEye-y\":0.5,\"LeftEye-y\":0.5,\"RightEye-x\":1,\"LeftEye-x\":1,\"RightEyeClose\":0,\"LeftEyeClose\":0,\"ArmTop\":0,\"ArmBottom\":1,\"ArmLeftTop\":0,\"ArmLeftBottom\":1},\"controls\":[{\"name\":\"ArmRightTop\",\"type\":\"slider\",\"steps\":[{},{},{}]},{\"name\":\"Eyebrows\",\"type\":\"slider\",\"steps\":[{\"i\":[0,6],\"j\":[-10,0],\"k\":[0,6],\"l\":[10,0]},{\"i\":[0,0],\"j\":[0,0],\"k\":[0,0],\"l\":[0,0]},{\"i\":[0,0],\"j\":[9,0],\"k\":[0,0],\"l\":[-9,0]}]},{\"name\":\"HeadTilt\",\"type\":\"slider\",\"steps\":[{\"B\":[15,0],\"c\":[15,0],\"f\":[-34,0],\"e\":[-29,0],\"A\":[-75,0]},{\"c\":[-15,0],\"B\":[-15,0],\"f\":[32,0],\"e\":[42,0],\"A\":[103,0]}]},{\"name\":\"HeadTurn\",\"type\":\"slider\",\"steps\":[{\"p\":[-9,0],\"q\":[-2,0],\"h\":[7,0],\"d\":[3,0],\"g\":[2,0],\"C\":[-7,0],\"y\":[1,0],\"v\":[1,0]},{\"h\":[-5,0],\"p\":[3,0],\"q\":[7,0],\"d\":[-3,0],\"g\":[-2,0],\"C\":[10,0],\"v\":[-1,0],\"y\":[-1,0]}]},{\"name\":\"Mouth\",\"type\":\"slider\",\"steps\":[{\"t\":[1,1],\"s\":[1,1],\"o\":[0,0],\"r\":[0,0]},{\"t\":[1,1.1],\"s\":[1,3.85],\"o\":[0,-20],\"r\":[0,3]}]},{\"name\":\"RightEye-y\",\"type\":\"slider\",\"steps\":[{\"v\":[0,-8]},{\"v\":[0,11]}]},{\"name\":\"LeftEye-y\",\"type\":\"slider\",\"steps\":[{\"y\":[0,-7]},{\"y\":[0,11]}]},{\"name\":\"RightEye-x\",\"type\":\"slider\",\"steps\":[{\"v\":[-7,0],\"w\":[0.85,1]},{\"v\":[1,0],\"w\":[1,1]},{\"v\":[13,0],\"w\":[0.85,1]}]},{\"name\":\"LeftEye-x\",\"type\":\"slider\",\"steps\":[{\"y\":[-12,0],\"z\":[0.85,1]},{\"z\":[1,1],\"y\":[0,0]},{\"y\":[9,0],\"z\":[0.85,1]}]},{\"name\":\"RightEyeClose\",\"type\":\"slider\",\"steps\":[{\"n\":[1,1],\"u\":[0,0]},{\"u\":[0,48],\"n\":[1,-1.2]}]},{\"name\":\"LeftEyeClose\",\"type\":\"slider\",\"steps\":[{\"x\":[0,0],\"m\":[1,1]},{\"m\":[1,-1.1],\"x\":[0,50]}]}],\"defaultFrame\":{\"u\":[0,-29],\"n\":[1,1],\"w\":[1,1],\"v\":[0,0],\"x\":[0,-25],\"m\":[1,1],\"z\":[1,1],\"y\":[0,0],\"t\":[1,1],\"s\":[1,0.25],\"o\":[0,0],\"c\":[-1,0],\"B\":[0,0],\"f\":[0,0],\"e\":[0,0],\"A\":[0,0],\"j\":[0,0],\"i\":[0,0],\"l\":[0,0],\"k\":[0,0],\"a\":[97,0],\"b\":[16,0]},\"shapes\":[{\"name\":\"a\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[92,688],[139,676],[186,690],[173,869],[70,764],[144,904],[94,908]],\"translate\":[277,593],\"mutationVectors\":[],\"name\":\"b\"},{\"type\":\"sprite\",\"points\":[[452,597],[529,600],[413,697],[435,747],[516,759],[537,704]],\"translate\":[271,719],\"mutationVectors\":[],\"name\":\"c\"}],\"mutationVectors\":[]},{\"name\":\"d\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[80,1054],[183,1046],[202,1203],[182,1283],[123,1289],[83,1174]],\"translate\":[-230,584],\"mutationVectors\":[],\"name\":\"e\"},{\"type\":\"sprite\",\"points\":[[212,1432],[229,1591],[94,1596],[109,1435]],\"translate\":[-224,748],\"mutationVectors\":[],\"name\":\"f\"}],\"mutationVectors\":[{\"type\":\"rotate\",\"origin\":[-245,483],\"name\":\"a\"}]},{\"type\":\"sprite\",\"points\":[[552,363],[633,363],[635,1808],[770,2028],[725,2040],[552,2010],[503,1913]],\"translate\":[157,958],\"mutationVectors\":[{\"type\":\"rotate\",\"origin\":[128,682],\"name\":\"b\"}],\"name\":\"g\"},{\"name\":\"h\",\"type\":\"folder\",\"items\":[{\"type\":\"sprite\",\"points\":[[1013,495],[1023,467],[1021,419],[1024,374],[1023,323],[1000,281],[955,263],[888,267],[836,303],[817,354],[813,412],[811,457],[822,473],[840,459],[847,431],[854,398],[856,368],[912,338],[917,361],[934,337],[971,345],[998,363],[998,409],[994,435],[999,471]],\"translate\":[-6,-36],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[-98,48],\"name\":\"e\",\"radius\":96},{\"type\":\"deform\",\"origin\":[87,54],\"name\":\"f\",\"radius\":101},{\"name\":\"g\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"i\"},{\"type\":\"sprite\",\"points\":[[221,213],[265,212],[266,230],[223,233]],\"translate\":[2,46],\"mutationVectors\":[{\"name\":\"h\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"j\"},{\"type\":\"sprite\",\"points\":[[776,110],[780,98],[793,90],[805,91],[818,92],[830,95],[842,106],[833,114],[818,110],[795,108]],\"translate\":[-42,-46],\"mutationVectors\":[{\"name\":\"i\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1},{\"type\":\"rotate\",\"origin\":[-55,-48],\"name\":\"j\"}],\"name\":\"k\"},{\"type\":\"sprite\",\"points\":[[774,139],[783,154],[794,148],[810,146],[824,148],[837,150],[837,139],[825,132],[808,129],[788,132]],\"translate\":[41,-43],\"mutationVectors\":[{\"name\":\"k\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1},{\"type\":\"rotate\",\"origin\":[54,-44],\"name\":\"l\"}],\"name\":\"l\"},{\"name\":\"m\",\"type\":\"sprite\",\"points\":[[679,86],[679,108],[738,111],[736,86]],\"translate\":[-47,-13],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[-47,-6],\"name\":\"m\",\"radius\":-1}]},{\"name\":\"n\",\"type\":\"sprite\",\"points\":[[613,106],[668,108],[667,86],[611,84]],\"translate\":[43,-14],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[37,-6],\"name\":\"n\",\"radius\":-1}]},{\"name\":\"o\",\"type\":\"sprite\",\"points\":[[431,266],[485,277],[509,270],[507,259],[435,255],[481,248],[462,248],[462,277],[572,54],[373,52],[572,272],[375,277]],\"translate\":[2,-34],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[2,79],\"name\":\"o\",\"radius\":26}]},{\"type\":\"sprite\",\"points\":[[128,165],[135,173],[145,170],[162,129],[160,113],[151,102],[134,113],[130,121]],\"translate\":[93,-3],\"mutationVectors\":[{\"name\":\"p\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"p\"},{\"type\":\"sprite\",\"points\":[[103,111],[112,168],[103,176],[92,174],[74,110],[86,104]],\"translate\":[-91,-6],\"mutationVectors\":[{\"name\":\"q\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"q\"},{\"name\":\"r\",\"type\":\"sprite\",\"points\":[[636,235],[717,236],[717,247],[694,256],[653,256],[636,245]],\"translate\":[0,65],\"mutationVectors\":[{\"name\":\"r\",\"type\":\"translate\",\"origin\":[0,0]}]},{\"name\":\"s\",\"type\":\"sprite\",\"points\":[[759,189],[761,210],[770,228],[785,235],[814,235],[833,232],[844,218],[847,194]],\"translate\":[0,83],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[1,65],\"name\":\"s\",\"radius\":-1}]},{\"name\":\"t\",\"type\":\"sprite\",\"points\":[[612,266],[787,262],[777,310],[737,355],[701,362],[662,352],[622,313]],\"translate\":[0,87],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[0,40],\"name\":\"t\",\"radius\":-1}]},{\"name\":\"u\",\"type\":\"folder\",\"items\":[{\"name\":\"v\",\"type\":\"sprite\",\"points\":[[618,149],[664,142],[657,131],[646,128],[630,128],[620,138],[634,149],[645,148]],\"translate\":[41,-11],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[38,-6],\"name\":\"u\",\"radius\":15}]},{\"name\":\"w\",\"type\":\"sprite\",\"points\":[[624,79],[630,79],[630,71],[621,71]],\"translate\":[30,-10],\"mutationVectors\":[]},{\"name\":\"x\",\"type\":\"sprite\",\"points\":[[653,186],[653,160],[627,160],[627,186]],\"translate\":[37,-9],\"mutationVectors\":[{\"name\":\"v\",\"type\":\"translate\",\"origin\":[0,0]},{\"type\":\"stretch\",\"origin\":[38,-9],\"name\":\"w\",\"radius\":-1}]},{\"name\":\"y\",\"type\":\"sprite\",\"points\":[[621,197],[620,228],[667,197],[666,227]],\"translate\":[40,-6],\"mutationVectors\":[]}],\"mutationVectors\":[]},{\"name\":\"z\",\"type\":\"folder\",\"items\":[{\"name\":\"A\",\"type\":\"sprite\",\"points\":[[688,143],[695,131],[709,127],[721,129],[731,136],[736,151],[704,146],[716,148]],\"translate\":[-42,-12],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[-42,-9],\"name\":\"x\",\"radius\":15}]},{\"name\":\"B\",\"type\":\"sprite\",\"points\":[[697,77],[705,78],[706,70],[697,70]],\"translate\":[-48,-12],\"mutationVectors\":[]},{\"name\":\"C\",\"type\":\"sprite\",\"points\":[[698,161],[698,186],[724,186],[724,161]],\"translate\":[-42,-11],\"mutationVectors\":[{\"name\":\"y\",\"type\":\"translate\",\"origin\":[0,0]},{\"type\":\"stretch\",\"origin\":[-41,-10],\"name\":\"z\",\"radius\":-1}]},{\"name\":\"D\",\"type\":\"sprite\",\"points\":[[685,197],[685,227],[734,229],[733,197]],\"translate\":[-43,-6],\"mutationVectors\":[]}],\"mutationVectors\":[]}],\"mutationVectors\":[{\"type\":\"rotate\",\"origin\":[-5,98],\"name\":\"c\"},{\"name\":\"d\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}]},{\"type\":\"sprite\",\"points\":[[1214,246],[2027,1820],[1738,244],[961,1842],[1620,334],[1681,336],[1678,350],[1629,369]],\"translate\":[14,896],\"mutationVectors\":[],\"name\":\"E\"},{\"type\":\"sprite\",\"points\":[[325,586],[430,939],[384,658],[320,941],[198,687],[197,654],[269,585]],\"translate\":[227,359],\"mutationVectors\":[],\"name\":\"F\"},{\"type\":\"sprite\",\"points\":[[415,1020],[482,1105],[434,1125],[335,1373],[268,1384],[238,1331],[284,1061],[346,1031]],\"translate\":[-173,354],\"mutationVectors\":[],\"name\":\"G\"},{\"type\":\"sprite\",\"points\":[[779,611],[822,582],[864,568],[921,567],[979,582],[1013,632],[1042,707],[1038,813],[1028,847],[1040,912],[1030,948],[1027,1024],[990,1103],[954,1120],[907,1064],[867,1106],[822,1083],[779,1105],[750,1084],[754,992],[743,934],[759,844],[753,753],[761,709],[747,660]],\"translate\":[-2,108],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[-7,263],\"name\":\"A\",\"radius\":331},{\"type\":\"rotate\",\"origin\":[-3,106],\"name\":\"B\"},{\"name\":\"C\",\"type\":\"translate\",\"origin\":[0,0],\"radius\":-1}],\"name\":\"H\"}],\"version\":\"1.0\"}","let tweens: { name: string; ticker: () => void }[] = [];\n\nexport type TweenCreator = (\n  name: string,\n  source: number,\n  target: number,\n  speed: number,\n  applier: (value: number) => void\n) => Promise<void>;\n\nexport const cleanTicker = (name: string) => {\n  tweens = tweens.filter((e) => e.name !== name);\n};\n\nexport const animationTween: TweenCreator = (\n  name,\n  source,\n  target,\n  speed,\n  applier\n) =>\n  new Promise((resolve) => {\n    cleanTicker(name);\n    let current = source;\n    const ticker = () => {\n      if (current === target) {\n        cleanTicker(name);\n        resolve();\n      } else {\n        if (current < target) {\n          current += Math.min(speed, target - current);\n        } else {\n          current -= Math.min(speed, current - target);\n        }\n      }\n      applier(current);\n    };\n    tweens = tweens.concat({ name, ticker });\n  });\n\nexport const delayFrames = (name: string, frames: number): Promise<void> =>\n  new Promise((resolve) => {\n    cleanTicker(name);\n    let current = frames;\n\n    const ticker = () => {\n      if (current === 0) {\n        cleanTicker(name);\n        resolve();\n      } else {\n        current--;\n      }\n    };\n    tweens = tweens.concat({ name, ticker });\n  });\n\nexport const tick = () => {\n  for (const tween of tweens) {\n    tween.ticker();\n  }\n};\n","import { AnimationControls } from \"geppetto-player\";\nimport { delayFrames } from \"./tween\";\n\nconst root = document.getElementById(\"root\");\n\nconst awaitClick = async () =>\n  new Promise<void>((resolve) => {\n    const dialog = document.getElementsByClassName(\"dialogbox\")[0];\n    const handler = () => {\n      resolve();\n      dialog.removeEventListener(\"click\", handler);\n    };\n    dialog.addEventListener(\"click\", handler);\n  });\n\nconst charSay = (character: AnimationControls, name: string) => {\n  const talkDelay = async (message: string) => {\n    await delayFrames(\"talking\", message.length * 6);\n    character.startTrack(\"StopTalking\");\n    character.startTrack(\"EyebrowReset\");\n  };\n\n  const showText = (text: string) => {\n    const dialogBox = document.createElement(\"div\");\n    dialogBox.classList.add(\"dialogbox\");\n\n    const nameField = document.createElement(\"h3\");\n    nameField.classList.add(\"dialogname\");\n    nameField.textContent = name;\n    dialogBox.appendChild(nameField);\n    root.appendChild(dialogBox);\n\n    const textField = document.createElement(\"p\");\n    textField.textContent = text;\n    dialogBox.appendChild(textField);\n\n    return () => {\n      root.removeChild(dialogBox);\n    };\n  };\n\n  return async (message: string) => {\n    character.startTrack(\"Talking\", { startAt: 800 });\n    character.startTrack(\"Eyebrows\");\n    const hideText = showText(message);\n    talkDelay(message);\n\n    await awaitClick();\n    character.startTrack(\"StopTalking\");\n    character.startTrack(\"EyebrowReset\");\n    hideText();\n  };\n};\n\ntype DialogCallbackOptions = {\n  endDialog: () => void;\n};\ntype DialogCallBack = (options: DialogCallbackOptions) => Promise<void>;\ntype DialogOptions = Record<string, DialogCallBack>;\n\nconst dialog = async (options: DialogOptions): Promise<void> => {\n  let inConversation = true;\n  const choiceAPI: DialogCallbackOptions = {\n    endDialog: () => {\n      inConversation = false;\n    },\n  };\n\n  while (inConversation) {\n    const choiceBox = document.createElement(\"div\");\n    choiceBox.classList.add(\"choicebox\");\n    root.appendChild(choiceBox);\n    const choice = await new Promise<keyof DialogOptions>((resolve) => {\n      Object.keys(options).forEach((key) => {\n        const button = document.createElement(\"button\");\n        button.textContent = key;\n        button.addEventListener(\"click\", () => {\n          root.removeChild(choiceBox);\n          setTimeout(() => {\n            resolve(key);\n          });\n        });\n        choiceBox.appendChild(button);\n      });\n    });\n    await options[choice](choiceAPI);\n  }\n};\n\nconst END = \"END\";\n\ntype DialogTree = (string | DialogChoice)[];\ntype DialogChoice = Record<string, DialogTree>;\n\nconst dialogText: DialogTree = [\n  \"Hi! Welcome adventurer, welcome to my inn! Is there something you want to know?\",\n  {\n    \"What is Geppetto?\": [\n      \"Geppetto consists of two parts. A desktop application to define animated images, and a JavaScript library to play them.\",\n      {\n        \"Is Geppetto free?\": [\n          \"Yes! It is free to use and distribute. It's also opensource (MIT License). So everyone can see how it works and extend it.\",\n        ],\n        \"How does it work?\": [\n          \"You need to create a texture file as .PNG. in Geppetto you will make layers from your texture, and compose them into your image.\",\n          \"The next step is to add mutations to your layer tree to create motion. You can then create timelines to define multiple animations.\",\n          {\n            \"Why not [Other product here]?\": [\n              \"Other solutions exist for animation. Some are paid, some are not open source, some use vector graphics.\",\n              \"Using a single texture file is fast (single http request) and adding more detail to your image doesn't have any rendering cost.\",\n            ],\n            \"What are the features?\": [\n              \"Real-time control and animations. Did you know I can look in the direction you click in this image?\",\n              \"Smooth transition between animations.\",\n              \"Fast, most of the processing is on the GPU\",\n              \"Free as in beer and speech. Isn't that great! It also means Matthijs doesn't make any money from it, and only works on it in his free time. \" +\n                \"But, feel free to contribute!\",\n            ],\n            \"Sounds great!\": [END],\n          },\n        ],\n        \"I want to talk about something else\": [END],\n      },\n    ],\n    \"What can you tell me about your world?\": [\n      \"I hope the world I live in will be expanded into a full game! Wouldn't that be great?\",\n      \"For now it functions as a demo, to see if a game like environment could be created.\",\n      \"Can you spot all the moving elements?\",\n      END,\n    ],\n    \"I think I'll start exploring!\": [\"Good luck!\", END],\n  },\n];\n\nconst playDialog = async (\n  dialogText: DialogTree,\n  talkFn: (text: string) => Promise<void>\n): Promise<void> => {\n  for (const item of dialogText) {\n    if (typeof item === \"string\" && item !== END) {\n      await talkFn(item);\n    }\n    if (typeof item === \"object\") {\n      const options = Object.entries(item).reduce<DialogOptions>(\n        (result, [key, tree]) => ({\n          ...result,\n          [key]: async ({ endDialog }) => {\n            await playDialog(tree, talkFn);\n            if (tree[tree.length - 1] === END) {\n              endDialog();\n            }\n          },\n        }),\n        {}\n      );\n      await dialog(options);\n    }\n  }\n};\n\nexport const conversation = async (character: AnimationControls) => {\n  await delayFrames(\"startTalking\", 60);\n  const say = charSay(character, \"Innkeeper\");\n\n  await playDialog(dialogText, say);\n};\n","import { setupWebGL, prepareAnimation, ImageDefinition } from \"geppetto-player\";\nimport backgroundImage from \"url:./assets/scenery.png\";\nimport backgroundAnimationData from \"./assets/scenery.json\";\nimport characterImage from \"url:./assets/innkeeper.png\";\nimport characterAnimationData from \"./assets/innkeeper.json\";\nimport { animationTween, cleanTicker, delayFrames, tick } from \"./tween\";\nimport { conversation } from \"./conversation\";\n\nconst canvas = document.getElementById(\"theatre\") as HTMLCanvasElement;\nconst player = setupWebGL(canvas);\n\nconst loadTexture = async (url: string): Promise<HTMLImageElement> =>\n  new Promise((resolve) => {\n    const image = new Image();\n    image.crossOrigin = \"anonymous\";\n    image.src = url;\n    image.onload = () => resolve(image);\n  });\n\nconst start = async () => {\n  const bgTexture = await loadTexture(backgroundImage);\n  const preppedBgAnim = prepareAnimation(\n    (backgroundAnimationData as unknown) as ImageDefinition\n  );\n  const bgAnimationControl = player.addAnimation(preppedBgAnim, bgTexture, 0, {\n    zoom: 2.0,\n    panX: 0,\n  });\n\n  const charTexture = await loadTexture(characterImage);\n  const preppedCharAnim = prepareAnimation(\n    (characterAnimationData as unknown) as ImageDefinition\n  );\n\n  const innKeeperDistance = {\n    zoom: 0.26,\n    panX: -2.1,\n    panY: -0.5,\n    zIndex: 2,\n  };\n  const innKeeperClose = {\n    zoom: 2.2,\n    panX: -0.3,\n    panY: 0.1,\n    zIndex: 2,\n  };\n  const charAnimationControls = player.addAnimation(\n    preppedCharAnim,\n    charTexture,\n    1,\n    innKeeperDistance\n  );\n\n  const setCanvasSize = () => {\n    const box = canvas.getBoundingClientRect();\n    const override = navigator.userAgent.includes(\"SMART-TV\") ? 2 : 1;\n    canvas.width = Math.min(\n      2048,\n      box.width * window.devicePixelRatio * override\n    );\n    canvas.height = Math.min(\n      1024,\n      box.height * window.devicePixelRatio * override\n    );\n  };\n  setCanvasSize();\n\n  window.addEventListener(\"resize\", () => {\n    setCanvasSize();\n  });\n\n  bgAnimationControl.startTrack(\"Wheel\");\n  bgAnimationControl.startTrack(\"WheelBlades\");\n  bgAnimationControl.startTrack(\"Tree\");\n  bgAnimationControl.startTrack(\"Bird\");\n  bgAnimationControl.startTrack(\"Cloud1\", { speed: 0.15 });\n  bgAnimationControl.startTrack(\"Cloud2\", { speed: 0.1 });\n  bgAnimationControl.startTrack(\"Cloud3\", { speed: 0.15 });\n  bgAnimationControl.startTrack(\"Eyes\");\n  bgAnimationControl.startTrack(\"Smoke\");\n  bgAnimationControl.startTrack(\"Water\");\n\n  let inkeeperInDistance = true;\n\n  charAnimationControls.startTrack(\"Eye blink\");\n  charAnimationControls.startTrack(\"HeadTilt\");\n\n  const butterFly = async () => {\n    const flySpeed = 0.0025;\n    const zoomSpeed = 0.025;\n    const REST_TOADSTOOL = {\n      x: 0.72,\n      y: 0.87,\n      z: 0.8,\n    };\n\n    const REST_STUMP = {\n      x: 0.51,\n      y: 0.29,\n      z: 0.95,\n    };\n\n    const current = {\n      ...REST_TOADSTOOL,\n    };\n\n    bgAnimationControl.setControlValue(\"ButterflyX\", current.x);\n    bgAnimationControl.setControlValue(\"ButterflyY\", current.y);\n    bgAnimationControl.setControlValue(\"ButterflyZoom\", current.z);\n\n    bgAnimationControl.startTrack(\"ButterflyWings\", { speed: 0.2 });\n    await delayFrames(\"bfParked\", 320);\n    let isFlying = false;\n\n    const flyTo = (x: number, y: number, z: number) => {\n      if (!isFlying) {\n        bgAnimationControl.startTrack(\"ButterflyWings\");\n        isFlying = true;\n      }\n      if (x < current.x) {\n        bgAnimationControl.setControlValue(\"ButterflyTurn\", 0);\n      } else {\n        bgAnimationControl.setControlValue(\"ButterflyTurn\", 1);\n      }\n      return Promise.all([\n        animationTween(\"ButterflyX\", current.x, x, flySpeed, (value) => {\n          current.x = value;\n          bgAnimationControl.setControlValue(\"ButterflyX\", value);\n        }),\n        animationTween(\"ButterflyY\", current.y, y, flySpeed, (value) => {\n          current.y = value;\n          bgAnimationControl.setControlValue(\"ButterflyY\", value);\n        }),\n        animationTween(\"ButterflyZoom\", current.z, z, zoomSpeed, (value) => {\n          current.z = value;\n          bgAnimationControl.setControlValue(\"ButterflyZoom\", value);\n        }),\n      ]);\n    };\n\n    const flyToRandom = () => {\n      const distance = Math.random() * 0.3;\n      let xPos = Math.random() > 0.5 ? 1 : -1;\n      let yPos = Math.random() > 0.5 ? 1 : -1;\n      if (current.x + xPos * distance > 1 || current.x + xPos * distance < 0) {\n        xPos *= -1;\n      }\n      if (current.y + yPos * distance > 1 || current.y + yPos * distance < 0) {\n        yPos *= -1;\n      }\n\n      const x = current.x + xPos * distance;\n      const y = current.y + yPos * distance;\n      const z = Math.min(Math.max(current.z + Math.random() * distance, 0), 1);\n      return flyTo(x, y, z);\n    };\n\n    while (true) {\n      const destination = Math.random();\n      if (destination > 0.95) {\n        await flyTo(REST_TOADSTOOL.x, REST_TOADSTOOL.y, REST_TOADSTOOL.z);\n        if (isFlying) {\n          bgAnimationControl.startTrack(\"ButterflyWings\", { speed: 0.2 });\n          isFlying = false;\n        }\n        await delayFrames(\"bfParked\", 320);\n      } else if (destination < 0.05) {\n        await flyTo(REST_STUMP.x, REST_STUMP.y, REST_STUMP.z);\n        if (isFlying) {\n          bgAnimationControl.startTrack(\"ButterflyWings\", { speed: 0.2 });\n          isFlying = false;\n        }\n        await delayFrames(\"bfParked\", 320);\n      } else {\n        await flyToRandom();\n      }\n    }\n  };\n\n  const girlEyes = () => {\n    let currentLooking = [0, 0];\n    const eyesCentered = [0.145, 0.388];\n    const LOOK_KEEP_POSITION = 180;\n    const eyeSpeed = 0.025;\n\n    const lookAt = (x: number, y: number): Promise<void> =>\n      Promise.all([\n        animationTween(\"eye-X\", currentLooking[0], x, eyeSpeed, (value) => {\n          currentLooking[0] = value;\n          charAnimationControls.setControlValue(\"RightEye-x\", value + 1.0);\n          charAnimationControls.setControlValue(\"LeftEye-x\", value + 1.0);\n          charAnimationControls.setControlValue(\n            \"HeadTurn\",\n            1.0 - (value + 1.0) * 0.5\n          );\n        }),\n        animationTween(\"eye-Y\", currentLooking[1], y, eyeSpeed, (value) => {\n          currentLooking[1] = value;\n          charAnimationControls.setControlValue(\n            \"RightEye-y\",\n            (value + 1.0) * 0.5\n          );\n          charAnimationControls.setControlValue(\n            \"LeftEye-y\",\n            (value + 1.0) * 0.5\n          );\n        }),\n      ]).then(() => {});\n\n    canvas.addEventListener(\"click\", async (event) => {\n      const box = canvas.getBoundingClientRect();\n      const position = [event.x / box.width, event.y / box.height];\n\n      if (\n        position[0] > 0.203 &&\n        position[0] < 0.263 &&\n        position[1] > 0.458 &&\n        position[1] < 0.706 &&\n        inkeeperInDistance\n      ) {\n        charAnimationControls.setZoom(innKeeperClose.zoom);\n        charAnimationControls.setPanning(\n          innKeeperClose.panX,\n          innKeeperClose.panY\n        );\n        inkeeperInDistance = false;\n        conversation(charAnimationControls).then(() => {\n          charAnimationControls.setZoom(innKeeperDistance.zoom);\n          charAnimationControls.setPanning(\n            innKeeperDistance.panX,\n            innKeeperDistance.panY\n          );\n          inkeeperInDistance = true;\n        });\n        return;\n      }\n\n      const x = Math.min(\n        1,\n        Math.max(-1, (position[0] - eyesCentered[0]) / 0.4)\n      );\n      const y = Math.min(\n        1,\n        Math.max(-1, (position[1] - eyesCentered[1]) / 0.4)\n      );\n      cleanTicker(\"resetDelay\");\n      await lookAt(x, y);\n      await delayFrames(\"resetDelay\", LOOK_KEEP_POSITION);\n      await lookAt(0, -0.1);\n    });\n\n    lookAt(0, -0.1);\n  };\n\n  girlEyes();\n  butterFly();\n\n  const renderFrame = () => {\n    tick();\n\n    player.render();\n    bgAnimationControl.render();\n    charAnimationControls.render();\n    window.requestAnimationFrame(renderFrame);\n  };\n\n  window.requestAnimationFrame(renderFrame);\n};\n\nstart();\n"],"names":["$parcel$interopDefault","a","__esModule","default","$61710bd883ed98e6cfecd79072542edb$var$t","t","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$EPSILON","Math","pow","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$EDGE_STACK","Uint32Array","$aadbccbf4bd6cef0c7b55a996f9e1d9d$export$default","points","getX","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$defaultGetX","getY","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$defaultGetY","n","length","coords","Float64Array","i","p","constructor","Error","this","maxTriangles","max","_triangles","_halfedges","Int32Array","_hashSize","ceil","sqrt","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","update","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","x","y","cx","cy","i0","i1","i2","minDist","d","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$dist","i0x","i0y","i1x","i1y","minRadius","r","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$circumradius","i2x","i2y","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$quicksort","hull","j","d0","id","subarray","triangles","halfedges","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$orient","center","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","abs","start","key","q","e","_legalize","floor","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$pseudoAngle","ar","b","a0","b0","al","p0","pr","pl","p1","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$inCircle","illegal","hbl","_link","br","c","v","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$orientIfSure","px","py","rx","ry","qx","qy","l","fx","fy","bp","cp","ids","dists","left","right","temp","tempDist","$aadbccbf4bd6cef0c7b55a996f9e1d9d$var$swap","arr","tmp","Object","defineProperty","get","enumerable","value","$61710bd883ed98e6cfecd79072542edb$var$e","$61710bd883ed98e6cfecd79072542edb$var$n","reduce","concat","$61710bd883ed98e6cfecd79072542edb$var$o","data","Float32Array","stride","$61710bd883ed98e6cfecd79072542edb$var$r","type","$61710bd883ed98e6cfecd79072542edb$var$a","o","mutationVectors","items","$61710bd883ed98e6cfecd79072542edb$var$i","translate","stretch","rotate","deform","opacity","$61710bd883ed98e6cfecd79072542edb$var$s","indexOf","$61710bd883ed98e6cfecd79072542edb$var$u","controls","map","name","animations","keyframes","event","push","time","keys","controlValues","filter","forEach","duration","looping","tracks","events","version","s","shapes","from","u","amount","mutator","z","origin","radius","f","findIndex","index","parent","mutatorMapping","parentList","vectorSettings","shapeMutatorMapping","$61710bd883ed98e6cfecd79072542edb$var$c","m","entries","defaultFrame","E","h","T","sort","g","steps","includes","controlIndex","valueStartIndex","values","stepType","parseInt","mutation","mixMultiply","control","trackX","trackY","directControls","mutators","mutatorParents","mutationValues","controlMutationValues","mutationValueIndices","controlMutationIndices","defaultControlValues","shapeVertices","shapeIndices","Uint16Array","maxIteration","$61710bd883ed98e6cfecd79072542edb$var$l","$61710bd883ed98e6cfecd79072542edb$var$f","$61710bd883ed98e6cfecd79072542edb$var$d","$61710bd883ed98e6cfecd79072542edb$var$m","zoom","panX","panY","zIndex","$61710bd883ed98e6cfecd79072542edb$var$p","getContext","premultipliedalpha","depth","antialias","powerPreference","$61710bd883ed98e6cfecd79072542edb$var$h","render","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","viewport","width","height","addAnimation","TEXTURE0","TEXTURE1","TEXTURE2","TEXTURE3","TEXTURE4","TEXTURE5","TEXTURE6","TEXTURE7","TEXTURE8","TEXTURE9","createProgram","createShader","VERTEX_SHADER","FRAGMENT_SHADER","deleteProgram","deleteShader","shaderSource","compileShader","attachShader","linkProgram","getProgramParameter","LINK_STATUS","console","error","getProgramInfoLog","getShaderInfoLog","$61710bd883ed98e6cfecd79072542edb$var$E","useProgram","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","uniform2f","getUniformLocation","uniform1iv","uniform2fv","uniform3fv","uniform4fv","uniform1fv","A","R","createBuffer","_","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","F","M","U","I","V","S","getAttribLocation","w","L","P","C","D","X","B","O","N","Y","G","Date","startedAt","startAt","splice","$","join","W","H","destroy","deleteTexture","deleteBuffer","setLooping","startTrack","speed","some","iterationStartedAt","lastRender","stopTrack","setControlValue","getControlValue","setPanning","setZoom","setZIndex","vertexAttribPointer","FLOAT","BYTES_PER_ELEMENT","enableVertexAttribArray","uniform4f","activeTexture","uniform1i","uniform3f","uniform1f","drawElements","TRIANGLES","UNSIGNED_SHORT","onTrackStopped","onEvent","$a6c7cc20046b6fd5b424e0793513abff$var$bundleURL","err","matches","stack","match","replace","$a6c7cc20046b6fd5b424e0793513abff$var$getBundleURL","JSON","parse","$620fd0d8c9e9c5018f5627cfe8696581$var$tweens","$620fd0d8c9e9c5018f5627cfe8696581$export$cleanTicker","$620fd0d8c9e9c5018f5627cfe8696581$export$animationTween","source","target","applier","Promise","resolve","current","ticker","min","$620fd0d8c9e9c5018f5627cfe8696581$export$delayFrames","frames","$768955d13c726cd3baa2f87fa9d6edc7$var$root","document","getElementById","$768955d13c726cd3baa2f87fa9d6edc7$var$charSay","character","async","hideText","text","dialogBox","createElement","classList","add","nameField","textContent","appendChild","textField","removeChild","showText","message","talkDelay","dialog","getElementsByClassName","handler","removeEventListener","addEventListener","$768955d13c726cd3baa2f87fa9d6edc7$var$awaitClick","$768955d13c726cd3baa2f87fa9d6edc7$var$dialog","inConversation","choiceAPI","endDialog","choiceBox","choice","options","button","setTimeout","$768955d13c726cd3baa2f87fa9d6edc7$var$dialogText","What is Geppetto?","Is Geppetto free?","How does it work?","Why not [Other product here]?","What are the features?","Sounds great!","I want to talk about something else","What can you tell me about your world?","I think I'll start exploring!","$768955d13c726cd3baa2f87fa9d6edc7$var$playDialog","dialogText","talkFn","item","result","tree","$328824cf76008f873ac88ee60393b5e1$var$canvas","$328824cf76008f873ac88ee60393b5e1$var$player","clearColor","enable","DEPTH_TEST","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","$328824cf76008f873ac88ee60393b5e1$var$loadTexture","url","image","Image","crossOrigin","src","onload","bgTexture","preppedBgAnim","bgAnimationControl","charTexture","preppedCharAnim","innKeeperDistance","innKeeperClose","charAnimationControls","setCanvasSize","box","getBoundingClientRect","override","navigator","userAgent","window","devicePixelRatio","inkeeperInDistance","currentLooking","eyesCentered","lookAt","all","then","position","say","girlEyes","flySpeed","REST_TOADSTOOL","REST_STUMP","isFlying","flyTo","flyToRandom","distance","random","xPos","yPos","destination","butterFly","renderFrame","tween","requestAnimationFrame","$328824cf76008f873ac88ee60393b5e1$var$start"],"version":3,"file":"index.03816cdd.js.map"}