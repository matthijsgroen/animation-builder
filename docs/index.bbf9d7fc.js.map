{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","../../geppetto-player/node_modules/delaunator/index.js","../../geppetto-player/dist/index.js","./node_modules/@parcel/runtime-js/lib/bundle-url.js","./node_modules/@parcel/runtime-js/lib/JSRuntime.js","./src/assets/landscape.json","./src/assets/Body.json","./src/index.ts"],"sourcesContent":["var $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$export(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","var t,e=(t=require(\"delaunator\"))&&t.__esModule?t.default:t;const n=t=>\"folder\"===t.type||\"sprite\"===t.type,o=(t,e,n=[])=>{for(const r of t){e(r,n);for(const t of r.mutationVectors)e(t,[...n,r]);\"folder\"===r.type&&o(r.items,e,[...n,r])}},r=t=>t.reduce(((t,e)=>t.concat(e)),[]),a=t=>({data:new Float32Array(r(t)),length:t.length,stride:void 0===t[0]?0:t[0].length}),i=t=>({data:new Int16Array(r(t)),length:t.length,stride:void 0===t[0]?0:t[0].length}),u={translate:1,stretch:2,rotate:3,deform:4,opacity:5},s=(t,e)=>{const o=t[t.length-1];if(n(o)){const r=e?o.mutationVectors.indexOf(e):-1;if(r>0)return o.mutationVectors[r-1];for(let o=t.length-(e?2:1);o>=0;o--){const e=t[o];if(e&&n(e)&&e.mutationVectors.length>0)return e.mutationVectors[e.mutationVectors.length-1]}}return null},l=t=>{const e=[],r=[],a={};o(t,((t,n)=>{if((t=>\"deform\"===t.type||\"rotate\"===t.type||\"translate\"===t.type||\"stretch\"===t.type||\"opacity\"===t.type)(t)){const i=[u[(o=t).type],o.origin[0],o.origin[1],\"deform\"===o.type||\"translate\"===o.type?o.radius:-1],l=r.length;r.push(i);const c=s(n,t),f=null===c?-1:e.findIndex((t=>t.name===c.name));e.push({name:t.name,index:l,parent:f}),a[t.name]=f}var o}));const i={};o(t,((t,o)=>{if(n(t)){const n=s(o.concat(t)),r=null===n?-1:e.findIndex((t=>t.name===n.name));i[t.name]=r}}));const l=new Int16Array(r.length);return e.forEach(((t,e)=>{l[e]=t.parent})),{mutatorMapping:a,parentList:l,vectorSettings:r,shapeMutatorMapping:i}},c=t=>{const e=t.controls.map((t=>t.name));return t.animations.map((t=>{const n=[];return t.keyframes.reduce(((t,e)=>t.concat(Object.keys(e.controlValues))),[]).filter(((t,e,n)=>n.indexOf(t)===e)).forEach((o=>{const a=[];t.keyframes.forEach((t=>{const e=t.controlValues[o];void 0!==e&&a.push([t.time,e])})),n.push([e.indexOf(o),new Float32Array(r(a))])})),{name:t.name,duration:t.keyframes[t.keyframes.length-1].time,looping:t.looping,tracks:n}}))};exports.prepareAnimation=t=>{const n=[],r=[],u=[];o(t.shapes,(t=>{if(\"sprite\"!==t.type)return;const o=(t=>{let e=1/0,n=-1/0,o=1/0,r=-1/0;return t.points.forEach((([t,a])=>{e=t<e?t:e,n=t>n?t:n,o=a<o?a:o,r=a>r?a:r})),[(e+n)/2,(o+r)/2]})(t),a=(i=t.points,e.from(i).triangles);var i;const s=[...t.translate,.1*n.length],l=r.length;n.push({name:t.name,start:2*u.length,amount:a.length,mutator:0,x:s[0],y:s[1],z:1e-4*s[2]-.9}),t.points.forEach((([t,e])=>{r.push([t-o[0],e-o[1],t,e])})),a.forEach((t=>{u.push(t+l)}))}));const s=l(t.shapes),f=s.parentList.length,m=Object.keys(s.mutatorMapping),d=[],p=new Float32Array(2*f);Object.entries(t.defaultFrame).forEach((([t,e])=>{const n=m.indexOf(t);-1!==n&&(p[2*n]=e[0],p[2*n+1]=e[1])}));const h=[],E=[],g=[];n.forEach((t=>{t.mutator=s.shapeMutatorMapping[t.name]})),n.sort(((t,e)=>(e.z||0)-(t.z||0)));const x=new Float32Array(t.controls.length),T=t.controls.reduce(((e,n,o)=>{const r=n.steps.reduce(((t,e)=>t.concat(Object.keys(e).filter((e=>!t.includes(e))))),[]);return d.push({name:n.name,steps:n.steps.length}),x[o]=t.controlValues[n.name],r.forEach((o=>{const r=m.indexOf(o),a=n.steps.map((t=>t[o])),i=t?.controls?.findIndex?.((t=>t.name===n.name))||0,u={name:n.name,controlIndex:i,valueStartIndex:h.length,values:a,stepType:0};h.push(...a),e={...e,[r]:{controls:((e[r]||{}).controls||[]).concat(u)}}})),e}),{}),v=Math.max(...Object.keys(T).map((t=>parseInt(t,10))));g.length=v,g.fill([0,0]);let y=0;return Object.entries(T).forEach((([t,e])=>{const n=e.controls.map((t=>[t.valueStartIndex,t.controlIndex,t.stepType]));g[parseInt(t,10)]=[E.length,n.length],y=Math.max(y,n.length),E.push(...n)})),{mutators:a(s.vectorSettings),mutatorParents:{data:s.parentList,length:s.parentList.length,stride:1},mutationValues:{data:p,length:s.parentList.length,stride:2},controlMutationValues:a(h),mutationValueIndices:i(E),controlMutationIndices:i(g),defaultControlValues:x,shapeVertices:a(r),shapeIndices:new Uint16Array(u),shapes:n,controls:d,maxIteration:y,animations:c(t)}};const f=(t,e,n=0)=>{for(let o=0;o<t.length;o+=2)if(t[o]>e){const r=o>1?t[o-2]:0,a=o>1?t[o-1]:n,i=(e-r)/(t[o]-r);return a*(1-i)+t[o+1]*i}return t[t.length-1]},m={zoom:1,panX:0,panY:0,zIndex:0};exports.setupWebGL=t=>{const e=t.getContext(\"webgl\",{premultipliedalpha:!0,depth:!0,antialias:!0,powerPreference:\"low-power\"});if(!e)throw new Error(\"No WebGL Support\");return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),d(t)};const d=t=>{const e=t.getContext(\"webgl\",{premultipliedalpha:!0,depth:!0,antialias:!0,powerPreference:\"low-power\"}),n=[];let o=[],r=[],a=[];return{render:()=>{e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.viewport(0,0,t.width,t.height)},addAnimation:(i,u,s,l)=>{const c=[e.TEXTURE0,e.TEXTURE1,e.TEXTURE2,e.TEXTURE3,e.TEXTURE4,e.TEXTURE5,e.TEXTURE6,e.TEXTURE7,e.TEXTURE8,e.TEXTURE9][s],[d,p,h]=((t,e)=>{const n=t.createProgram();if(!n)throw new Error(\"Failed to create shader program\");const o=(t=>{return`\\n  uniform vec2 viewport;\\n  uniform vec3 basePosition;\\n  uniform vec3 translate;\\n  uniform float mutation;\\n  uniform vec4 scale;\\n\\n  attribute vec2 coordinates;\\n  attribute vec2 aTextureCoord;\\n\\n  varying lowp vec2 vTextureCoord;\\n  varying lowp float vOpacity;\\n\\n  mat4 viewportScale = mat4(\\n    2.0 / viewport.x, 0, 0, 0,   \\n    0, -2.0 / viewport.y, 0, 0,    \\n    0, 0, 1, 0,    \\n    -1, +1, 0, 1\\n  );\\n\\n  ${(t=>`\\n  uniform vec2 uControlMutationValues[${t.controlMutationValues.length}];\\n  uniform vec3 uMutationValueIndices[${t.mutationValueIndices.length}];\\n  uniform vec2 uControlMutationIndices[${t.controlMutationIndices.length}];\\n\\n  uniform float uControlValues[${t.controls.length}];\\n  uniform vec2 uMutationValues[${t.mutators.length}];\\n\\n  vec2 getMutationValue(int mutationIndex, int mutationType) {\\n    vec2 result = uMutationValues[mutationIndex];\\n    vec2 controlMutations = uControlMutationIndices[mutationIndex];\\n    int start = int(controlMutations.x);\\n    int steps = int(controlMutations.y);\\n    if (steps == 0) {\\n      return result;\\n    }\\n    for(int i = 0; i < ${t.maxIteration}; i++) {\\n      if (i < steps) {\\n        vec3 valueIndices = uMutationValueIndices[start + i];\\n        // x = offset\\n        // y = control value index\\n        // z = stepType\\n        float controlValue = uControlValues[int(valueIndices.y)];\\n\\n        int startIndex = int(floor(valueIndices.x + controlValue));\\n        int endIndex = int(ceil(valueIndices.x + controlValue));\\n        float mixFactor = controlValue - floor(controlValue);\\n\\n        vec2 mutAValue = uControlMutationValues[startIndex];\\n        vec2 mutBValue = uControlMutationValues[endIndex];\\n        vec2 mutValue = mix(mutAValue, mutBValue, mixFactor);\\n\\n        if (mutationType == 2 || mutationType == 5) { // Stretch & Opacity\\n          result *= mutValue;\\n        } else {\\n          result += mutValue;\\n        }\\n      } else {\\n        return result;\\n      }\\n    }\\n\\n    return result;\\n  }\\n`)(t)}\\n  ${e=t.mutators.length,`\\n  #define PI_FRAC 0.017453292519943295\\n\\n  // x = type, yz = origin, a = radius\\n  uniform vec4 uMutationVectors[${e}];\\n  uniform float uMutationParent[${e}];\\n\\n  vec3 mutateOnce(vec3 startValue, int mutationIndex) {\\n    vec4 mutation = uMutationVectors[mutationIndex];\\n    int mutationType = int(mutation.x);\\n\\n    vec2 mutationValue = getMutationValue(mutationIndex, mutationType);\\n    vec2 origin = mutation.yz;\\n    vec3 result = startValue;\\n\\n    if (mutationType == 1) { // Translate\\n      float effect = 1.0;\\n      if (mutation.a > 0.0 && distance(startValue.xy, origin) > mutation.a) {\\n        effect = 0.0;\\n      }\\n      result = vec3(startValue.xy + mutationValue * effect, startValue.z);\\n    }\\n\\n    if (mutationType == 2) { // Stretch\\n      result = vec3(origin.xy + vec2(\\n        (startValue.x - origin.x) * mutationValue.x, \\n        (startValue.y - origin.y) * mutationValue.y\\n      ), startValue.z);\\n    }\\n\\n    if (mutationType == 3) { // Rotation\\n      float rotation = mutationValue.x * PI_FRAC;\\n      mat2 entityRotationMatrix = mat2(cos(rotation), sin(rotation), -sin(rotation), cos(rotation));\\n      result = vec3((startValue.xy - origin) * entityRotationMatrix + origin, startValue.z);\\n    }\\n\\n    if (mutationType == 4) { // Deform\\n      float effect = 1.0 - clamp(distance(startValue.xy, origin), 0.0, mutation.a) / mutation.a;\\t\\n      result = vec3(startValue.xy + mutationValue * effect, startValue.z);\\t\\n    }\\n\\n    if (mutationType == 5) { // Opacity\\n      float opacity = mutationValue.x;\\n      result = vec3(startValue.xy, startValue.z * opacity);\\t\\n    }\\n\\n    return result;\\n  }\\n\\n  vec3 mutatePoint(vec3 startValue, int mutationIndex) {\\n    int currentNode = mutationIndex;\\n    vec3 result = startValue;\\n\\n    for(int i = 0; i < ${e}; i++) {\\n        if (currentNode == -1) {\\n            return result;\\n        }\\n        result = mutateOnce(result, currentNode);\\n        currentNode = int(uMutationParent[currentNode]);\\n    }\\n    return result;\\n  }\\n\\n`}\\n\\n  void main() {\\n    vec3 deform = mutatePoint(vec3(coordinates + translate.xy, 1.0), int(mutation));\\n\\n    vec4 pos = viewportScale * vec4((deform.xy + basePosition.xy) * scale.x, translate.z - basePosition.z, 1.0);\\n    gl_Position = vec4((pos.xy + scale.ba) * scale.y, pos.z, 1.0);\\n    vTextureCoord = aTextureCoord.xy;\\n    vOpacity = deform.z;\\n  }\\n`;var e})(e),r=t.createShader(t.VERTEX_SHADER),a=t.createShader(t.FRAGMENT_SHADER);if(!r||!a)throw t.deleteProgram(n),t.deleteShader(r),t.deleteShader(a),new Error(\"Failed to create shader program\");if(t.shaderSource(r,o),t.shaderSource(a,\"\\nprecision mediump float;\\n\\nvarying mediump vec2 vTextureCoord;\\nvarying mediump float vOpacity;\\nuniform sampler2D uSampler;\\nuniform mediump vec2 uTextureDimensions;\\n\\nvoid main(void) {\\n  highp vec2 coord = vTextureCoord.xy / uTextureDimensions;\\n  mediump vec4 texelColor = texture2D(uSampler, coord);\\n\\n  gl_FragColor = vec4(texelColor.rgb * texelColor.a * vOpacity, texelColor.a * vOpacity);\\n}\\n\"),t.compileShader(r),t.compileShader(a),t.attachShader(n,r),t.attachShader(n,a),t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw console.error(\"Link failed: \"+t.getProgramInfoLog(n)),console.error(\"vs info-log: \"+t.getShaderInfoLog(r)),console.error(\"fs info-log: \"+t.getShaderInfoLog(a)),new Error(\"Could not initialise shaders\");return[n,r,a]})(e,i);e.useProgram(d);const E=((t,e,n)=>{const o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.useProgram(e),t.uniform2f(t.getUniformLocation(e,\"uTextureDimensions\"),n.width,n.height),o})(e,d,u),g=((t,e)=>(n,o)=>{const r=t.getUniformLocation(e,n),a=o.stride;1==a?t.uniform1fv(r,o.data):2==a?t.uniform2fv(r,o.data):3==a?t.uniform3fv(r,o.data):4==a&&t.uniform4fv(r,o.data)})(e,d);g(\"uMutationVectors\",i.mutators),g(\"uMutationParent\",i.mutatorParents),g(\"uMutationValues\",i.mutationValues),g(\"uControlMutationValues\",i.controlMutationValues),g(\"uMutationValueIndices\",i.mutationValueIndices),g(\"uControlMutationIndices\",i.controlMutationIndices);const x=e.getUniformLocation(d,\"uControlValues\");e.uniform1fv(x,i.defaultControlValues);const T=new Float32Array(i.defaultControlValues),v=new Float32Array(i.defaultControlValues),y=e.createBuffer(),V=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,y),e.bufferData(e.ARRAY_BUFFER,i.shapeVertices.data,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,V),e.bufferData(e.ELEMENT_ARRAY_BUFFER,i.shapeIndices,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);const R=e.getUniformLocation(d,\"basePosition\"),A=e.getUniformLocation(d,\"translate\"),I=e.getUniformLocation(d,\"mutation\"),_=e.getUniformLocation(d,\"viewport\"),w=e.getUniformLocation(d,\"scale\"),M=e.getAttribLocation(d,\"coordinates\"),S=e.getAttribLocation(d,\"aTextureCoord\");let U=0,P=0,{zoom:C,panX:F,panY:b,zIndex:L}={...m,...l},O=[0,0],B=1;const D=[],N=i.animations.map((t=>t.name)),X=i.controls.map((t=>t.name)),z=i.animations.map((t=>t.looping)),$={destroy:function(){e.deleteShader(p),e.deleteShader(h),e.deleteProgram(d),e.deleteTexture(E),e.deleteBuffer(y),e.deleteBuffer(V),n.splice(n.indexOf($),1)},setLooping:function(t,e){const n=N.indexOf(e);if(-1===n)throw new Error(`Track ${e} does not exist in ${N.join(\",\")}`);z[n]=t},startTrack:function(t){const e=N.indexOf(t);if(-1===e)throw new Error(`Track ${t} does not exist in ${N.join(\",\")}`);D.push({name:t,index:e,startAt:0,startedAt:+new Date})},stopTrack:t=>{const e=D.findIndex((e=>e.name===t));if(-1===e)return;const n=D[e];let r=+new Date-n.startedAt+n.startAt;const u=i.animations[n.index];z[n.index]&&(r%=u.duration),D.splice(e,1);for(const e of o)e(t);for(const[t,e]of u.tracks){const n=f(e,r,T[t]);T[t]=n;for(const e of a)e(t,n)}},setControlValue:(t,e)=>{const n=X.indexOf(t);if(-1===n)throw new Error(`Control ${t} does not exist in ${X.join(\",\")}`);const o=i.controls[n].steps-1;if(e<0||e>o)throw new Error(`Control ${t} value shoulde be between 0 and ${o}. ${e} is out of bounds.`);T[n]=e},setPanning:function(t,e){F=t,b=e},setZoom:function(t){C=t},setZIndex:function(t){L=t},render:function(){if(e.useProgram(d),e.bindBuffer(e.ARRAY_BUFFER,y),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,V),e.vertexAttribPointer(M,2,e.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,0),e.enableVertexAttribArray(M),e.vertexAttribPointer(S,2,e.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT),e.enableVertexAttribArray(S),t.width!==U||t.height!==P){const n=t.width,o=t.height,r=u.width/n>u.height/o;B=r?n/u.width:o/u.height,e.uniform2f(_,n,o),O=[n/2/B,o/2/B],U=t.width,P=t.height}e.uniform4f(w,B,C,F,b),e.activeTexture(c),e.bindTexture(e.TEXTURE_2D,E),e.uniform1i(e.getUniformLocation(d,\"uSampler\"),s),e.uniform3f(R,O[0],O[1],.01*L),v.set(T,0);const n=+new Date;for(const t of D){const e=n-t.startedAt+t.startAt,o=i.animations[t.index];if(o.duration<e&&!z[t.index]){for(const[t,n]of o.tracks){const o=f(n,e,T[t]);v[t]=o}continue}const r=e%o.duration;for(const[t,e]of o.tracks){const n=f(e,r,T[t]);v[t]=n}}e.uniform1fv(x,v);for(const t of i.shapes)e.uniform3f(A,t.x,t.y,t.z),e.uniform1f(I,t.mutator),e.drawElements(e.TRIANGLES,t.amount,e.UNSIGNED_SHORT,t.start)},onTrackStopped:function(t){return o=o.concat(t),()=>{o=o.filter((e=>e!==t))}},onEvent:function(t){return r=r.concat(t),()=>{r=r.filter((e=>e!==t))}},onControlChange:function(t){return a=a.concat(t),()=>{a=a.filter((e=>e!==t))}}};return n.push($),$},destroy:function(){for(const t of n)t.destroy();n.length=0}}};exports.createPlayer=d;\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\n/* globals document:readonly */\nvar bundleURL = null;\n\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  let matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _plugin() {\n  const data = require(\"@parcel/plugin\");\n\n  _plugin = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _utils() {\n  const data = require(\"@parcel/utils\");\n\n  _utils = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _nullthrows() {\n  const data = _interopRequireDefault(require(\"nullthrows\"));\n\n  _nullthrows = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// List of browsers that support dynamic import natively\n// https://caniuse.com/#feat=es6-module-dynamic-import\nconst DYNAMIC_IMPORT_BROWSERS = {\n  edge: '76',\n  firefox: '67',\n  chrome: '63',\n  safari: '11.1',\n  opera: '50'\n}; // Used for as=\"\" in preload/prefetch\n\nconst TYPE_TO_RESOURCE_PRIORITY = {\n  css: 'style',\n  js: 'script'\n};\nconst BROWSER_PRELOAD_LOADER = './loaders/browser/preload-loader';\nconst BROWSER_PREFETCH_LOADER = './loaders/browser/prefetch-loader';\nconst LOADERS = {\n  browser: {\n    css: './loaders/browser/css-loader',\n    html: './loaders/browser/html-loader',\n    js: './loaders/browser/js-loader',\n    wasm: './loaders/browser/wasm-loader',\n    IMPORT_POLYFILL: './loaders/browser/import-polyfill'\n  },\n  worker: {\n    js: './loaders/worker/js-loader',\n    wasm: './loaders/worker/wasm-loader',\n    IMPORT_POLYFILL: false\n  },\n  node: {\n    css: './loaders/node/css-loader',\n    html: './loaders/node/html-loader',\n    js: './loaders/node/js-loader',\n    wasm: './loaders/node/wasm-loader',\n    IMPORT_POLYFILL: null\n  }\n};\n\nfunction getLoaders(ctx) {\n  if (ctx.isWorker()) return LOADERS.worker;\n  if (ctx.isBrowser()) return LOADERS.browser;\n  if (ctx.isNode()) return LOADERS.node;\n  return null;\n} // This cache should be invalidated if new dependencies get added to the bundle without the bundle objects changing\n// This can happen when we reuse the BundleGraph between subsequent builds\n\n\nlet bundleDependencies = new WeakMap();\n\nvar _default = new (_plugin().Runtime)({\n  apply({\n    bundle,\n    bundleGraph,\n    options\n  }) {\n    // Dependency ids in code replaced with referenced bundle names\n    // Loader runtime added for bundle groups that don't have a native loader (e.g. HTML/CSS/Worker - isURL?),\n    // and which are not loaded by a parent bundle.\n    // Loaders also added for modules that were moved to a separate bundle because they are a different type\n    // (e.g. WASM, HTML). These should be preloaded prior to the bundle being executed. Replace the entry asset(s)\n    // with the preload module.\n    if (bundle.type !== 'js') {\n      return;\n    }\n\n    let {\n      asyncDependencies,\n      otherDependencies\n    } = getDependencies(bundle);\n    let assets = [];\n\n    for (let dependency of asyncDependencies) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (resolved == null) {\n        continue;\n      }\n\n      if (resolved.type === 'asset') {\n        if (!bundle.env.shouldScopeHoist) {\n          // If this bundle already has the asset this dependency references,\n          // return a simple runtime of `Promise.resolve(internalRequire(assetId))`.\n          // The linker handles this for scope-hoisting.\n          assets.push({\n            filePath: __filename,\n            code: `module.exports = Promise.resolve(module.bundle.root(${JSON.stringify(bundleGraph.getAssetPublicId(resolved.value))}))`,\n            dependency\n          });\n        }\n      } else {\n        let loaderRuntime = getLoaderRuntime({\n          bundle,\n          dependency,\n          bundleGraph,\n          bundleGroup: resolved.value,\n          options\n        });\n\n        if (loaderRuntime != null) {\n          assets.push(loaderRuntime);\n        }\n      }\n    }\n\n    for (let dependency of otherDependencies) {\n      // Resolve the dependency to a bundle. If inline, export the dependency id,\n      // which will be replaced with the contents of that bundle later.\n      let referencedBundle = bundleGraph.getReferencedBundle(dependency, bundle);\n\n      if (referencedBundle !== null && referencedBundle !== void 0 && referencedBundle.isInline) {\n        assets.push({\n          filePath: _path().default.join(__dirname, `/bundles/${referencedBundle.id}.js`),\n          code: `module.exports = ${JSON.stringify(dependency.id)};`,\n          dependency\n        });\n        continue;\n      } // Otherwise, try to resolve the dependency to an external bundle group\n      // and insert a URL to that bundle.\n\n\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (dependency.isURL && resolved == null) {\n        // If a URL dependency was not able to be resolved, add a runtime that\n        // exports the original moduleSpecifier.\n        assets.push({\n          filePath: __filename,\n          code: `module.exports = ${JSON.stringify(dependency.moduleSpecifier)}`,\n          dependency\n        });\n        continue;\n      }\n\n      if (resolved == null || resolved.type !== 'bundle_group') {\n        continue;\n      }\n\n      let bundleGroup = resolved.value;\n      let mainBundle = (0, _nullthrows().default)(bundleGraph.getBundlesInBundleGroup(bundleGroup).find(b => {\n        let entries = b.getEntryAssets();\n        return entries.some(e => bundleGroup.entryAssetId === e.id);\n      }));\n\n      if (bundle.env.outputFormat === 'commonjs' && mainBundle.type === 'js') {\n        assets.push({\n          filePath: __filename,\n          dependency,\n          code: `module.exports = require(\"./\" + ${getRelativePathExpr(bundle, mainBundle, options)})`\n        });\n        continue;\n      } // URL dependency or not, fall back to including a runtime that exports the url\n\n\n      assets.push(getURLRuntime(dependency, bundle, mainBundle, options));\n    } // In development, bundles can be created lazily. This means that the parent bundle may not\n    // know about all of the sibling bundles of a child when it is written for the first time.\n    // Therefore, we need to also ensure that the siblings are loaded when the child loads.\n\n\n    if (options.shouldBuildLazily && bundle.env.outputFormat === 'global') {\n      let referenced = bundleGraph.getReferencedBundles(bundle).filter(b => !b.isInline);\n\n      for (let referencedBundle of referenced) {\n        let loaders = getLoaders(bundle.env);\n\n        if (!loaders) {\n          continue;\n        }\n\n        let loader = loaders[referencedBundle.type];\n\n        if (!loader) {\n          continue;\n        }\n\n        let relativePathExpr = getRelativePathExpr(bundle, referencedBundle, options);\n        let loaderCode = `require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr})`;\n        assets.push({\n          filePath: __filename,\n          code: loaderCode,\n          isEntry: true\n        });\n      }\n    }\n\n    if (shouldUseRuntimeManifest(bundle, options) && bundleGraph.getChildBundles(bundle).length > 0 && isNewContext(bundle, bundleGraph)) {\n      assets.push({\n        filePath: __filename,\n        code: getRegisterCode(bundle, bundleGraph),\n        isEntry: true\n      });\n    }\n\n    return assets;\n  }\n\n});\n\nexports.default = _default;\n\nfunction getDependencies(bundle) {\n  let cachedDependencies = bundleDependencies.get(bundle);\n\n  if (cachedDependencies) {\n    return cachedDependencies;\n  } else {\n    let asyncDependencies = [];\n    let otherDependencies = [];\n    bundle.traverse(node => {\n      if (node.type !== 'dependency') {\n        return;\n      }\n\n      let dependency = node.value;\n\n      if (dependency.isAsync && !dependency.isURL) {\n        asyncDependencies.push(dependency);\n      } else {\n        otherDependencies.push(dependency);\n      }\n    });\n    bundleDependencies.set(bundle, {\n      asyncDependencies,\n      otherDependencies\n    });\n    return {\n      asyncDependencies,\n      otherDependencies\n    };\n  }\n}\n\nfunction getLoaderRuntime({\n  bundle,\n  dependency,\n  bundleGroup,\n  bundleGraph,\n  options\n}) {\n  let loaders = getLoaders(bundle.env);\n\n  if (loaders == null) {\n    return;\n  }\n\n  let externalBundles = bundleGraph.getBundlesInBundleGroup(bundleGroup).filter(bundle => !bundle.isInline);\n  let mainBundle = (0, _nullthrows().default)(externalBundles.find(bundle => {\n    var _bundle$getMainEntry;\n\n    return ((_bundle$getMainEntry = bundle.getMainEntry()) === null || _bundle$getMainEntry === void 0 ? void 0 : _bundle$getMainEntry.id) === bundleGroup.entryAssetId;\n  })); // CommonJS is a synchronous module system, so there is no need to load bundles in parallel.\n  // Importing of the other bundles will be handled by the bundle group entry.\n  // Do the same thing in library mode for ES modules, as we are building for another bundler\n  // and the imports for sibling bundles will be in the target bundle.\n  // Also do this when building lazily or the runtime itself could get deduplicated and only\n  // exist in the parent. This causes errors if an old version of the parent without the runtime\n  // is already loaded.\n\n  if (bundle.env.outputFormat === 'commonjs' || bundle.env.isLibrary || options.shouldBuildLazily) {\n    externalBundles = [mainBundle];\n  } else {\n    // Otherwise, load the bundle group entry after the others.\n    externalBundles.splice(externalBundles.indexOf(mainBundle), 1);\n    externalBundles.reverse().push(mainBundle);\n  } // Determine if we need to add a dynamic import() polyfill, or if all target browsers support it natively.\n\n\n  let needsDynamicImportPolyfill = false;\n\n  if (bundle.env.isBrowser() && bundle.env.outputFormat === 'esmodule') {\n    needsDynamicImportPolyfill = !bundle.env.matchesEngines(DYNAMIC_IMPORT_BROWSERS);\n  }\n\n  let loaderModules = externalBundles.map(to => {\n    let loader = loaders[to.type];\n\n    if (!loader) {\n      return;\n    }\n\n    let relativePathExpr = getRelativePathExpr(bundle, to, options); // Use esmodule loader if possible\n\n    if (to.type === 'js' && to.env.outputFormat === 'esmodule') {\n      if (!needsDynamicImportPolyfill) {\n        return `import(\"./\" + ${relativePathExpr})`;\n      }\n\n      loader = (0, _nullthrows().default)(loaders.IMPORT_POLYFILL, `No import() polyfill available for context '${bundle.env.context}'`);\n    } else if (to.type === 'js' && to.env.outputFormat === 'commonjs') {\n      return `Promise.resolve(require(\"./\" + ${relativePathExpr}))`;\n    }\n\n    let code = `require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr})`; // In development, clear the require cache when an error occurs so the\n    // user can try again (e.g. after fixing a build error).\n\n    if (options.mode === 'development' && bundle.env.outputFormat === 'global') {\n      code += '.catch(err => {delete module.bundle.cache[module.id]; throw err;})';\n    }\n\n    return code;\n  }).filter(Boolean);\n\n  if (bundle.env.context === 'browser' && !options.shouldBuildLazily) {\n    loaderModules.push(...externalBundles // TODO: Allow css to preload resources as well\n    .filter(to => to.type === 'js').flatMap(from => {\n      let {\n        preload,\n        prefetch\n      } = getHintedBundleGroups(bundleGraph, from);\n      return [...getHintLoaders(bundleGraph, bundle, preload, BROWSER_PRELOAD_LOADER, options), ...getHintLoaders(bundleGraph, bundle, prefetch, BROWSER_PREFETCH_LOADER, options)];\n    }));\n  }\n\n  if (loaderModules.length === 0) {\n    return;\n  }\n\n  let loaderCode = loaderModules.join(', ');\n\n  if (loaderModules.length > 1 && (bundle.env.outputFormat === 'global' || !externalBundles.every(b => b.type === 'js'))) {\n    loaderCode = `Promise.all([${loaderCode}])`;\n\n    if (bundle.env.outputFormat !== 'global') {\n      loaderCode += `.then(r => r[r.length - 1])`;\n    }\n  } else {\n    loaderCode = `(${loaderCode})`;\n  }\n\n  if (bundle.env.outputFormat === 'global' && mainBundle.type === 'js') {\n    loaderCode += `.then(() => module.bundle.root('${bundleGraph.getAssetPublicId(bundleGraph.getAssetById(bundleGroup.entryAssetId))}')${// In global output with scope hoisting, functions return exports are\n    // always returned. Otherwise, the exports are returned.\n    bundle.env.shouldScopeHoist ? '()' : ''})`;\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = ${loaderCode};`,\n    dependency\n  };\n}\n\nfunction getHintedBundleGroups(bundleGraph, bundle) {\n  let preload = [];\n  let prefetch = [];\n  let {\n    asyncDependencies\n  } = getDependencies(bundle);\n\n  for (let dependency of asyncDependencies) {\n    var _dependency$meta;\n\n    let attributes = (_dependency$meta = dependency.meta) === null || _dependency$meta === void 0 ? void 0 : _dependency$meta.importAttributes;\n\n    if (typeof attributes === 'object' && attributes != null && ( // $FlowFixMe\n    attributes.preload || attributes.prefetch)) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if ((resolved === null || resolved === void 0 ? void 0 : resolved.type) === 'bundle_group') {\n        // === true for flow\n        if (attributes.preload === true) {\n          preload.push(resolved.value);\n        }\n\n        if (attributes.prefetch === true) {\n          prefetch.push(resolved.value);\n        }\n      }\n    }\n  }\n\n  return {\n    preload,\n    prefetch\n  };\n}\n\nfunction getHintLoaders(bundleGraph, from, bundleGroups, loader, options) {\n  let hintLoaders = [];\n\n  for (let bundleGroupToPreload of bundleGroups) {\n    let bundlesToPreload = bundleGraph.getBundlesInBundleGroup(bundleGroupToPreload);\n\n    for (let bundleToPreload of bundlesToPreload) {\n      let relativePathExpr = getRelativePathExpr(from, bundleToPreload, options);\n      let priority = TYPE_TO_RESOURCE_PRIORITY[bundleToPreload.type];\n      hintLoaders.push(`require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr}, ${priority ? JSON.stringify(priority) : 'null'}, ${JSON.stringify(bundleToPreload.target.env.outputFormat === 'esmodule')})`);\n    }\n  }\n\n  return hintLoaders;\n}\n\nfunction isNewContext(bundle, bundleGraph) {\n  let parents = bundleGraph.getParentBundles(bundle);\n  return bundle.isEntry || parents.length === 0 || parents.some(parent => parent.env.context !== bundle.env.context || parent.type !== 'js');\n}\n\nfunction getURLRuntime(dependency, from, to, options) {\n  let relativePathExpr = getRelativePathExpr(from, to, options);\n\n  if (dependency.meta.webworker === true) {\n    return {\n      filePath: __filename,\n      code: `module.exports = require('./get-worker-url')(${relativePathExpr});`,\n      dependency\n    };\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = require('./bundle-url').getBundleURL() + ${relativePathExpr}`,\n    dependency\n  };\n}\n\nfunction getRegisterCode(entryBundle, bundleGraph) {\n  let idToName = {};\n  bundleGraph.traverseBundles((bundle, _, actions) => {\n    if (bundle.isInline) {\n      return;\n    }\n\n    idToName[bundle.publicId] = (0, _nullthrows().default)(bundle.name);\n\n    if (bundle !== entryBundle && isNewContext(bundle, bundleGraph)) {\n      // New contexts have their own manifests, so there's no need to continue.\n      actions.skipChildren();\n    }\n  }, entryBundle);\n  return \"require('./bundle-manifest').register(JSON.parse(\" + JSON.stringify(JSON.stringify(idToName)) + '));';\n}\n\nfunction getRelativePathExpr(from, to, options) {\n  if (shouldUseRuntimeManifest(from, options)) {\n    return `require('./relative-path')(${JSON.stringify(from.publicId)}, ${JSON.stringify(to.publicId)})`;\n  }\n\n  return JSON.stringify((0, _utils().relativeBundlePath)(from, to, {\n    leadingDotSlash: false\n  }));\n}\n\nfunction shouldUseRuntimeManifest(bundle, options) {\n  let env = bundle.env;\n  return !env.isLibrary && env.outputFormat === 'global' && env.isBrowser() && options.mode === 'production';\n}","{\"animations\":[{\"name\":\"Waterrad\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"New Control\":1,\"Rad\":1}},{\"time\":12000,\"controlValues\":{\"New Control\":0,\"Rad\":0}}]},{\"name\":\"Waterrad2\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"Schoepen\":0}},{\"time\":1000,\"controlValues\":{\"Schoepen\":1}}]},{\"name\":\"Rook\",\"looping\":true,\"keyframes\":[{\"time\":0,\"controlValues\":{\"Rook\":0}},{\"time\":4999,\"controlValues\":{\"Rook\":2}}]}],\"controlValues\":{\"New Control\":0,\"Rook\":0,\"Schoepen\":1,\"Rad\":1},\"controls\":[{\"name\":\"Rook\",\"type\":\"slider\",\"steps\":[{\"New Mutator (10)\":[0,0],\"New Mutator (9)\":[0,0],\"New Mutator (12)\":[22,0],\"New Mutator (11)\":[0,0],\"New Mutator (8)\":[-23,0]},{\"New Mutator (10)\":[0,-100],\"New Mutator (9)\":[28,0],\"New Mutator (12)\":[-27,0],\"New Mutator (11)\":[-38,0],\"New Mutator (8)\":[47,0]},{\"New Mutator (10)\":[0,-216],\"New Mutator (9)\":[0,0],\"New Mutator (12)\":[22,0],\"New Mutator (11)\":[0,0],\"New Mutator (8)\":[-23,0]}]},{\"name\":\"Schoepen\",\"type\":\"slider\",\"steps\":[{\"New Mutator (20)\":[0,0],\"New Mutator (17)\":[0,0],\"New Mutator (19)\":[0,0],\"New Mutator (18)\":[0,0],\"New Mutator (3)\":[1,1],\"New Mutator (7)\":[0,0],\"New Mutator (15)\":[1,1],\"New Mutator (16)\":[0,0],\"New Mutator (22)\":[1,0.05],\"New Mutator (21)\":[0,0],\"New Mutator (23)\":[20,-35]},{\"New Mutator (20)\":[-43,-62],\"New Mutator (17)\":[72,0],\"New Mutator (19)\":[-36,-28],\"New Mutator (18)\":[69,0],\"New Mutator (3)\":[1,0.7],\"New Mutator (7)\":[-10,-91],\"New Mutator (15)\":[1,0.05],\"New Mutator (16)\":[0,0],\"New Mutator (22)\":[1,-0.6],\"New Mutator (21)\":[25,-88],\"New Mutator (23)\":[-3,0]}]},{\"name\":\"Rad\",\"type\":\"slider\",\"steps\":[{\"New Mutator (1)\":[0,0],\"New Mutator (6)\":[0,0]},{\"New Mutator (1)\":[360,0],\"New Mutator (6)\":[360,0]}]}],\"defaultFrame\":{\"New Mutator\":[0.45,1],\"New Mutator (1)\":[0,0],\"New Mutator (2)\":[0.5,1],\"New Mutator (4)\":[0.5,1],\"New Mutator (5)\":[0.45,1],\"New Mutator (6)\":[0,0],\"New Mutator (17)\":[84,0],\"New Mutator (18)\":[0,-3],\"New Mutator (19)\":[0,0],\"New Mutator (3)\":[1,1],\"New Mutator (15)\":[1,0.8],\"New Mutator (16)\":[63,0],\"New Mutator (22)\":[1,1],\"New Mutator (10)\":[0,0],\"New Mutator (8)\":[0,0],\"New Mutator (11)\":[0,0],\"New Mutator (12)\":[0,0],\"New Mutator (9)\":[0,0]},\"shapes\":[{\"type\":\"sprite\",\"points\":[[3101,119],[3107,588],[2698,557],[2692,114]],\"translate\":[-214,-14],\"mutationVectors\":[],\"name\":\"WheelHouse\"},{\"name\":\"Watermolen\",\"type\":\"folder\",\"items\":[{\"name\":\"Waterrad\",\"type\":\"sprite\",\"points\":[[24,408],[384,408],[24,768],[384,768]],\"translate\":[-169,14],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[-181,14],\"name\":\"New Mutator\"},{\"type\":\"rotate\",\"origin\":[-169,14],\"name\":\"New Mutator (1)\"}]},{\"name\":\"Waterrad2\",\"type\":\"sprite\",\"points\":[[24,24],[384,24],[24,384],[384,384]],\"translate\":[-187,15],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[-173,14],\"name\":\"New Mutator (2)\"}]},{\"type\":\"sprite\",\"points\":[[455,1143],[455,1197],[335,1143],[335,1196]],\"translate\":[-293,-14],\"mutationVectors\":[{\"name\":\"New Mutator (21)\",\"type\":\"translate\",\"origin\":[-15,-67]},{\"type\":\"stretch\",\"origin\":[-291,12],\"name\":\"New Mutator (22)\"}],\"name\":\"Schoep (1) (1)\"},{\"type\":\"sprite\",\"points\":[[455,1143],[455,1197],[335,1143],[335,1196]],\"translate\":[-282,74],\"mutationVectors\":[{\"name\":\"New Mutator (7)\",\"type\":\"translate\",\"origin\":[-6,4]},{\"type\":\"stretch\",\"origin\":[-283,102],\"name\":\"New Mutator (15)\"},{\"type\":\"deform\",\"origin\":[-316,37],\"name\":\"New Mutator (16)\",\"radius\":68}],\"name\":\"Schoep (2)\"},{\"type\":\"sprite\",\"points\":[[455,1143],[455,1197],[335,1143],[335,1196]],\"translate\":[-264,130],\"mutationVectors\":[{\"name\":\"New Mutator (20)\",\"type\":\"translate\",\"origin\":[-6,4]},{\"type\":\"stretch\",\"origin\":[-268,156],\"name\":\"New Mutator (3)\"},{\"type\":\"deform\",\"origin\":[-272,107],\"name\":\"New Mutator (17)\",\"radius\":86}],\"name\":\"Schoep (1)\"},{\"name\":\"Schoep\",\"type\":\"sprite\",\"points\":[[455,1143],[455,1197],[335,1143],[335,1196]],\"translate\":[-213,162],\"mutationVectors\":[{\"name\":\"New Mutator (19)\",\"type\":\"translate\",\"origin\":[-6,4]},{\"type\":\"deform\",\"origin\":[-216,131],\"name\":\"New Mutator (18)\",\"radius\":76}]},{\"type\":\"sprite\",\"points\":[[455,1143],[455,1197],[335,1143],[335,1196]],\"translate\":[-205,159],\"mutationVectors\":[{\"name\":\"New Mutator (23)\",\"type\":\"translate\",\"origin\":[-6,4]}],\"name\":\"Schoep (1) (2)\"},{\"name\":\"Waterrad (1)\",\"type\":\"sprite\",\"points\":[[24,408],[384,408],[24,768],[384,768]],\"translate\":[-268,12],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[-274,12],\"name\":\"New Mutator (5)\"},{\"type\":\"rotate\",\"origin\":[-268,12],\"name\":\"New Mutator (6)\"}]},{\"name\":\"Waterrad2 (1)\",\"type\":\"sprite\",\"points\":[[24,24],[384,24],[24,384],[384,384]],\"translate\":[-274,12],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[-281,9],\"name\":\"New Mutator (4)\"}]}],\"mutationVectors\":[]},{\"type\":\"sprite\",\"points\":[[23,1265],[847,1273],[38,1915],[813,1912]],\"translate\":[-449,-87],\"mutationVectors\":[],\"name\":\"House\"},{\"type\":\"sprite\",\"points\":[[97,790],[167,790],[244,789],[245,1178],[168,1176],[95,1176],[27,1176],[26,792],[26,825],[27,894],[25,960],[25,1030],[25,1093],[96,1143],[96,1068],[95,993],[95,925],[95,862],[167,822],[167,893],[166,964],[167,1035],[167,1115],[245,1083],[244,1000],[243,924],[241,856]],\"translate\":[-425,-348],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[-478,-407],\"name\":\"New Mutator (8)\",\"radius\":40},{\"type\":\"deform\",\"origin\":[-386,-485],\"name\":\"New Mutator (11)\",\"radius\":41},{\"type\":\"deform\",\"origin\":[-473,-508],\"name\":\"New Mutator (12)\",\"radius\":36},{\"type\":\"deform\",\"origin\":[-385,-404],\"name\":\"New Mutator (9)\",\"radius\":31},{\"name\":\"New Mutator (10)\",\"type\":\"translate\",\"origin\":[-5,0],\"radius\":-1}],\"name\":\"Rook\"},{\"name\":\"Base Image\",\"type\":\"sprite\",\"points\":[[710,-2],[712,1084],[2621,1086],[2621,2]],\"translate\":[0,0],\"mutationVectors\":[]}]}","{\"animations\":[{\"name\":\"Eye blink\",\"looping\":true,\"keyframes\":[{\"time\":2500,\"controlValues\":{\"LeftEyeClose\":0,\"RightEyeClose\":0}},{\"time\":2750,\"controlValues\":{\"LeftEyeClose\":1,\"RightEyeClose\":1}},{\"time\":3000,\"controlValues\":{\"RightEyeClose\":0,\"LeftEyeClose\":0}}]},{\"name\":\"Look around\",\"looping\":true,\"keyframes\":[{\"time\":1000,\"controlValues\":{\"LeftEye-x\":0.18,\"RightEye-x\":0.24}},{\"time\":2000,\"controlValues\":{\"LeftEye-x\":1,\"RightEye-x\":1.02}},{\"time\":3980,\"controlValues\":{\"LeftEye-x\":1.02,\"RightEye-x\":1}},{\"time\":5000,\"controlValues\":{\"RightEye-x\":1.8,\"LeftEye-x\":1.84}},{\"time\":6000,\"controlValues\":{\"LeftEye-x\":0.98,\"RightEye-x\":1.06}},{\"time\":8000,\"controlValues\":{\"RightEye-x\":1,\"LeftEye-x\":1}}]},{\"name\":\"Talking\",\"looping\":true,\"keyframes\":[{\"time\":1000,\"controlValues\":{\"Mouth\":0}},{\"time\":1340,\"controlValues\":{\"Mouth\":0.62}},{\"time\":1670,\"controlValues\":{\"Mouth\":0}},{\"time\":2120,\"controlValues\":{\"Mouth\":0}},{\"time\":2430,\"controlValues\":{\"Mouth\":0.68}},{\"time\":2790,\"controlValues\":{\"Mouth\":0.24}},{\"time\":3160,\"controlValues\":{\"Mouth\":1}},{\"time\":3470,\"controlValues\":{\"Mouth\":0}}]},{\"name\":\"Eyebrow Raise\",\"looping\":false,\"keyframes\":[{\"time\":2980,\"controlValues\":{\"RightEyebrow1\":0.12,\"RightEyebrow2\":0}}]},{\"name\":\"Eyebrow lower\",\"looping\":false,\"keyframes\":[{\"time\":2990,\"controlValues\":{\"RightEyebrow1\":0.83,\"RightEyebrow2\":0.78}}]}],\"controlValues\":{\"RightEye-x\":1.02,\"RightEye-y\":0.38,\"RightEyeClose\":0,\"RightEyebrow2\":0.29,\"RightEyebrow1\":0.51,\"LeftEyeClose\":0,\"LeftEye-x\":0.92,\"LeftEye-y\":0.42,\"Mouth\":0},\"controls\":[{\"name\":\"Mouth\",\"type\":\"slider\",\"steps\":[{\"New Mutator (8)\":[1,1],\"New Mutator (10)\":[1,1],\"New Mutator (9)\":[0,0],\"New Mutator (11)\":[0,0]},{\"New Mutator (8)\":[1,1.1],\"New Mutator (10)\":[1,3.85],\"New Mutator (9)\":[0,-20],\"New Mutator (11)\":[0,3]}]},{\"name\":\"RightEyebrow1\",\"type\":\"slider\",\"steps\":[{\"New Mutator (3)\":[0,-27]},{\"New Mutator (3)\":[0,23]}]},{\"name\":\"RightEyebrow2\",\"type\":\"slider\",\"steps\":[{\"New Mutator (2)\":[0,-21]},{\"New Mutator (2)\":[0,39]}]},{\"name\":\"RightEye-y\",\"type\":\"slider\",\"steps\":[{\"New Mutator\":[0,-8]},{\"New Mutator\":[0,11]}]},{\"name\":\"LeftEye-y\",\"type\":\"slider\",\"steps\":[{\"New Mutator (6)\":[0,-7]},{\"New Mutator (6)\":[0,11]}]},{\"name\":\"RightEye-x\",\"type\":\"slider\",\"steps\":[{\"New Mutator\":[-7,0],\"New Mutator (4)\":[0.85,1]},{\"New Mutator\":[1,0],\"New Mutator (4)\":[1,1]},{\"New Mutator\":[13,0],\"New Mutator (4)\":[0.85,1]}]},{\"name\":\"LeftEye-x\",\"type\":\"slider\",\"steps\":[{\"New Mutator (6)\":[-12,0],\"New Mutator (7)\":[0.85,1]},{\"New Mutator (7)\":[1,1],\"New Mutator (6)\":[0,0]},{\"New Mutator (6)\":[9,0],\"New Mutator (7)\":[0.85,1]}]},{\"name\":\"RightEyeClose\",\"type\":\"slider\",\"steps\":[{\"RightEyeLashes\":[1,1],\"New Mutator (1)\":[0,0]},{\"New Mutator (1)\":[0,48],\"RightEyeLashes\":[1,-1.2]}]},{\"name\":\"LeftEyeClose\",\"type\":\"slider\",\"steps\":[{\"New Mutator (5)\":[0,0],\"LeftEyeLashes\":[1,1]},{\"LeftEyeLashes\":[1,-1.1],\"New Mutator (5)\":[0,50]}]}],\"defaultFrame\":{\"New Mutator (1)\":[0,-29],\"New Mutator (2)\":[0,2],\"New Mutator (3)\":[0,0],\"RightEyeLashes\":[1,1],\"New Mutator (4)\":[1,1],\"New Mutator\":[0,0],\"New Mutator (5)\":[0,-25],\"LeftEyeLashes\":[1,1],\"New Mutator (7)\":[1,1],\"New Mutator (6)\":[0,0],\"New Mutator (8)\":[1,1],\"New Mutator (10)\":[1,0.25],\"New Mutator (9)\":[0,0]},\"shapes\":[{\"name\":\"Head\",\"type\":\"folder\",\"items\":[{\"name\":\"LeftEyeLashes\",\"type\":\"sprite\",\"points\":[[679,86],[679,108],[738,111],[736,86]],\"translate\":[-47,-13],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[-47,-6],\"name\":\"LeftEyeLashes\"}]},{\"name\":\"RightEyeLashes\",\"type\":\"sprite\",\"points\":[[613,106],[668,108],[667,86],[611,84]],\"translate\":[43,-14],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[37,-6],\"name\":\"RightEyeLashes\"}]},{\"name\":\"Face\",\"type\":\"sprite\",\"points\":[[343,52],[599,54],[589,342],[358,344],[480,156],[485,169],[498,166],[511,165],[524,166],[535,170],[543,159],[529,152],[515,148],[495,152],[486,181],[541,184],[555,173],[549,144],[528,130],[495,130],[473,136],[469,169],[497,179],[510,176],[524,179],[431,266],[485,277],[509,270],[507,259],[435,255],[502,239],[481,248],[462,248],[448,239],[462,277]],\"translate\":[0,0],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[2,79],\"name\":\"New Mutator (9)\",\"radius\":26},{\"type\":\"deform\",\"origin\":[44,-42],\"name\":\"New Mutator (3)\",\"radius\":20},{\"type\":\"deform\",\"origin\":[19,-39],\"name\":\"New Mutator (2)\",\"radius\":16}]},{\"name\":\"UpperTeeth\",\"type\":\"sprite\",\"points\":[[636,235],[717,236],[717,247],[694,256],[653,256],[636,245]],\"translate\":[0,65],\"mutationVectors\":[{\"name\":\"New Mutator (11)\",\"type\":\"translate\",\"origin\":[0,0]}]},{\"name\":\"Mouth\",\"type\":\"sprite\",\"points\":[[759,189],[761,210],[770,228],[785,235],[814,235],[833,232],[844,218],[847,194]],\"translate\":[0,83],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[1,65],\"name\":\"New Mutator (10)\"}]},{\"name\":\"Jaw\",\"type\":\"sprite\",\"points\":[[612,266],[787,262],[777,310],[737,355],[701,362],[662,352],[622,313]],\"translate\":[0,87],\"mutationVectors\":[{\"type\":\"stretch\",\"origin\":[0,40],\"name\":\"New Mutator (8)\"}]},{\"name\":\"RightEye\",\"type\":\"folder\",\"items\":[{\"name\":\"RightEyeLid\",\"type\":\"sprite\",\"points\":[[618,149],[664,142],[657,131],[646,128],[630,128],[620,138],[634,149],[645,148]],\"translate\":[41,-11],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[38,-6],\"name\":\"New Mutator (1)\",\"radius\":15}]},{\"name\":\"RightEyeWhite (1)\",\"type\":\"sprite\",\"points\":[[624,79],[630,79],[630,71],[621,71]],\"translate\":[30,-10],\"mutationVectors\":[]},{\"name\":\"RightIrisPupil\",\"type\":\"sprite\",\"points\":[[653,186],[653,160],[627,160],[627,186]],\"translate\":[37,-9],\"mutationVectors\":[{\"name\":\"New Mutator\",\"type\":\"translate\",\"origin\":[0,0]},{\"type\":\"stretch\",\"origin\":[38,-9],\"name\":\"New Mutator (4)\"}]},{\"name\":\"RightEyeWhite\",\"type\":\"sprite\",\"points\":[[621,197],[620,228],[667,197],[666,227]],\"translate\":[40,-6],\"mutationVectors\":[]}],\"mutationVectors\":[]},{\"name\":\"LeftEye\",\"type\":\"folder\",\"items\":[{\"name\":\"LeftEyeLid\",\"type\":\"sprite\",\"points\":[[688,143],[695,131],[709,127],[721,129],[731,136],[736,151],[704,146],[716,148]],\"translate\":[-42,-12],\"mutationVectors\":[{\"type\":\"deform\",\"origin\":[-42,-9],\"name\":\"New Mutator (5)\",\"radius\":15}]},{\"name\":\"LeftEyeWhite\",\"type\":\"sprite\",\"points\":[[697,77],[705,78],[706,70],[697,70]],\"translate\":[-48,-12],\"mutationVectors\":[]},{\"name\":\"LeftIrisPupil\",\"type\":\"sprite\",\"points\":[[698,161],[698,186],[724,186],[724,161]],\"translate\":[-42,-11],\"mutationVectors\":[{\"name\":\"New Mutator (6)\",\"type\":\"translate\",\"origin\":[0,0]},{\"type\":\"stretch\",\"origin\":[-41,-10],\"name\":\"New Mutator (7)\"}]},{\"name\":\"LeftEyeWhite (1)\",\"type\":\"sprite\",\"points\":[[685,197],[685,227],[734,229],[733,197]],\"translate\":[-43,-6],\"mutationVectors\":[]}],\"mutationVectors\":[]}],\"mutationVectors\":[]}]}","import { setupWebGL, prepareAnimation } from \"geppetto-player\";\nimport backgroundImage from \"url:./assets/landscape.png\";\nimport backgroundAnimationData from \"./assets/landscape.json\";\nimport characterImage from \"url:./assets/body-texture.png\";\nimport characterAnimationData from \"./assets/Body.json\";\n\nconst canvas = document.getElementById(\"theatre\") as HTMLCanvasElement;\n\nconst player = setupWebGL(canvas);\n\nconst loadTexture = async (url: string): Promise<HTMLImageElement> =>\n  new Promise((resolve) => {\n    const image = new Image();\n    image.crossOrigin = \"anonymous\";\n    image.src = url;\n    image.onload = () => resolve(image);\n  });\n\nconst start = async () => {\n  const bgTexture = await loadTexture(backgroundImage);\n  const preppedBgAnim = prepareAnimation(backgroundAnimationData);\n  const bgAnimationControl = player.addAnimation(preppedBgAnim, bgTexture, 0, {\n    zoom: 2.0,\n  });\n\n  const charTexture = await loadTexture(characterImage);\n  const preppedCharAnim = prepareAnimation(characterAnimationData);\n  const charAnimationControls = player.addAnimation(\n    preppedCharAnim,\n    charTexture,\n    1,\n    {\n      zoom: 2.4,\n      panX: -0.3,\n      panY: 0.1,\n      zIndex: 2,\n    }\n  );\n\n  const box = canvas.getBoundingClientRect();\n  canvas.width = box.width * window.devicePixelRatio;\n  canvas.height = box.height * window.devicePixelRatio;\n\n  bgAnimationControl.startTrack(\"Waterrad\");\n  bgAnimationControl.startTrack(\"Waterrad2\");\n  bgAnimationControl.startTrack(\"Rook\");\n\n  charAnimationControls.startTrack(\"Eye blink\");\n  charAnimationControls.startTrack(\"Talking\");\n\n  const [smokeButton, wheelButton] = document.querySelectorAll(\"button\");\n\n  let smokePlaying = true;\n  let wheelPlaying = true;\n  wheelButton.addEventListener(\"click\", () => {\n    wheelPlaying = !wheelPlaying;\n    wheelButton.innerText = wheelPlaying ? \"Stop wheel\" : \"Start wheel\";\n    if (wheelPlaying) {\n      bgAnimationControl.startTrack(\"Waterrad\");\n      bgAnimationControl.startTrack(\"Waterrad2\");\n    } else {\n      bgAnimationControl.stopTrack(\"Waterrad\");\n      bgAnimationControl.stopTrack(\"Waterrad2\");\n    }\n  });\n\n  smokeButton.addEventListener(\"click\", () => {\n    smokePlaying = !smokePlaying;\n    smokeButton.innerText = smokePlaying ? \"Stop smoke\" : \"Start smoke\";\n    if (smokePlaying) {\n      bgAnimationControl.startTrack(\"Rook\");\n    } else {\n      bgAnimationControl.stopTrack(\"Rook\");\n    }\n  });\n\n  let lookTarget = [0, 0];\n  let currentLooking = [0, 0];\n  const eyesCentered = [0.145, 0.385];\n\n  canvas.addEventListener(\"click\", (event) => {\n    const box = canvas.getBoundingClientRect();\n    const position = [event.x / box.width, event.y / box.height];\n    lookTarget = [\n      Math.min(1, Math.max(-1, (position[0] - eyesCentered[0]) / 0.4)),\n      Math.min(1, Math.max(-1, (position[1] - eyesCentered[1]) / 0.4)),\n    ];\n  });\n\n  const speed = 0.025;\n\n  const renderFrame = () => {\n    if (currentLooking[0] !== lookTarget[0]) {\n      if (currentLooking[0] < lookTarget[0]) {\n        currentLooking[0] += Math.min(speed, lookTarget[0] - currentLooking[0]);\n      } else {\n        currentLooking[0] -= Math.min(speed, currentLooking[0] - lookTarget[0]);\n      }\n    }\n    if (currentLooking[1] !== lookTarget[1]) {\n      if (currentLooking[1] < lookTarget[1]) {\n        currentLooking[1] += Math.min(speed, lookTarget[1] - currentLooking[1]);\n      } else {\n        currentLooking[1] -= Math.min(speed, currentLooking[1] - lookTarget[1]);\n      }\n    }\n\n    charAnimationControls.setControlValue(\n      \"RightEye-x\",\n      currentLooking[0] + 1.0\n    );\n    charAnimationControls.setControlValue(\"LeftEye-x\", currentLooking[0] + 1.0);\n\n    charAnimationControls.setControlValue(\n      \"RightEye-y\",\n      (currentLooking[1] + 1.0) * 0.5\n    );\n    charAnimationControls.setControlValue(\n      \"LeftEye-y\",\n      (currentLooking[1] + 1.0) * 0.5\n    );\n\n    player.render();\n    bgAnimationControl.render();\n    charAnimationControls.render();\n    window.requestAnimationFrame(renderFrame);\n  };\n\n  window.requestAnimationFrame(renderFrame);\n};\n\nstart();\n"],"names":["$parcel$interopDefault","a","__esModule","default","$82d8b6b0b6b7a715c0515a6f105618ad$var$EPSILON","$82d8b6b0b6b7a715c0515a6f105618ad$var$EDGE_STACK","$82d8b6b0b6b7a715c0515a6f105618ad$export$default","$82d8b6b0b6b7a715c0515a6f105618ad$var$dist","ax","ay","bx","by","dx","dy","$82d8b6b0b6b7a715c0515a6f105618ad$var$orientIfSure","px","py","rx","ry","qx","qy","l","r","Math","abs","$82d8b6b0b6b7a715c0515a6f105618ad$var$orient","$82d8b6b0b6b7a715c0515a6f105618ad$var$inCircle","cx","cy","ex","ey","fx","fy","bp","cp","$82d8b6b0b6b7a715c0515a6f105618ad$var$circumradius","bl","cl","d","x","y","$82d8b6b0b6b7a715c0515a6f105618ad$var$quicksort","ids","dists","left","right","i","temp","tempDist","j","$82d8b6b0b6b7a715c0515a6f105618ad$var$swap","arr","tmp","$82d8b6b0b6b7a715c0515a6f105618ad$var$defaultGetX","p","$82d8b6b0b6b7a715c0515a6f105618ad$var$defaultGetY","e","n","v","pow","Uint32Array","points","getX","getY","length","coords","Float64Array","constructor","Error","this","maxTriangles","max","_triangles","_halfedges","Int32Array","_hashSize","ceil","sqrt","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","update","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","i0","i1","i2","minDist","i0x","i0y","i1x","i1y","minRadius","i2x","i2y","hull","d0","id","subarray","triangles","halfedges","center","$82d8b6b0b6b7a715c0515a6f105618ad$var$circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","start","key","q","t","_legalize","floor","$82d8b6b0b6b7a715c0515a6f105618ad$var$pseudoAngle","ar","b","a0","b0","al","p0","pr","pl","p1","illegal","hbl","_link","br","c","Object","defineProperty","get","enumerable","value","$d5ab6bc70de398d04657108400a34970$var$t","$d5ab6bc70de398d04657108400a34970$var$e","$d5ab6bc70de398d04657108400a34970$var$n","type","$d5ab6bc70de398d04657108400a34970$var$o","mutationVectors","items","$d5ab6bc70de398d04657108400a34970$var$r","reduce","concat","$d5ab6bc70de398d04657108400a34970$var$a","data","Float32Array","stride","$d5ab6bc70de398d04657108400a34970$var$i","Int16Array","$d5ab6bc70de398d04657108400a34970$var$u","translate","stretch","rotate","deform","opacity","$d5ab6bc70de398d04657108400a34970$var$s","o","indexOf","$d5ab6bc70de398d04657108400a34970$var$c","controls","map","name","animations","keyframes","keys","controlValues","filter","forEach","push","time","duration","looping","tracks","u","shapes","from","s","amount","mutator","z","origin","radius","f","findIndex","index","parent","mutatorMapping","parentList","vectorSettings","shapeMutatorMapping","$d5ab6bc70de398d04657108400a34970$var$l","m","entries","defaultFrame","h","E","g","sort","T","steps","includes","controlIndex","valueStartIndex","values","stepType","parseInt","mutators","mutatorParents","mutationValues","controlMutationValues","mutationValueIndices","controlMutationIndices","defaultControlValues","shapeVertices","shapeIndices","Uint16Array","maxIteration","$d5ab6bc70de398d04657108400a34970$var$f","$d5ab6bc70de398d04657108400a34970$var$m","zoom","panX","panY","zIndex","$d5ab6bc70de398d04657108400a34970$var$d","getContext","premultipliedalpha","depth","antialias","powerPreference","render","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","viewport","width","height","addAnimation","TEXTURE0","TEXTURE1","TEXTURE2","TEXTURE3","TEXTURE4","TEXTURE5","TEXTURE6","TEXTURE7","TEXTURE8","TEXTURE9","createProgram","createShader","VERTEX_SHADER","FRAGMENT_SHADER","deleteProgram","deleteShader","shaderSource","compileShader","attachShader","linkProgram","getProgramParameter","LINK_STATUS","console","error","getProgramInfoLog","getShaderInfoLog","useProgram","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","uniform2f","getUniformLocation","uniform1fv","uniform2fv","uniform3fv","uniform4fv","createBuffer","V","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","R","A","I","_","w","M","getAttribLocation","S","U","P","C","F","L","O","B","D","N","X","$","destroy","deleteTexture","deleteBuffer","splice","setLooping","join","startTrack","startAt","startedAt","Date","stopTrack","setControlValue","setPanning","setZoom","setZIndex","vertexAttribPointer","FLOAT","BYTES_PER_ELEMENT","enableVertexAttribArray","uniform4f","activeTexture","uniform1i","uniform3f","set","uniform1f","drawElements","TRIANGLES","UNSIGNED_SHORT","onTrackStopped","onEvent","onControlChange","$10da859f8926f997eca867931986be87$var$bundleURL","err","matches","stack","match","replace","$10da859f8926f997eca867931986be87$var$getBundleURL","JSON","parse","$a4018e003ec9cbe06ab0cc0137aa4e69$var$canvas","document","getElementById","$a4018e003ec9cbe06ab0cc0137aa4e69$var$player","clearColor","enable","DEPTH_TEST","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","$a4018e003ec9cbe06ab0cc0137aa4e69$var$loadTexture","async","url","Promise","resolve","image","Image","crossOrigin","src","onload","bgTexture","preppedBgAnim","bgAnimationControl","charTexture","preppedCharAnim","charAnimationControls","box","getBoundingClientRect","window","devicePixelRatio","smokeButton","wheelButton","querySelectorAll","smokePlaying","wheelPlaying","addEventListener","innerText","lookTarget","currentLooking","eyesCentered","event","position","min","speed","renderFrame","requestAnimationFrame","$a4018e003ec9cbe06ab0cc0137aa4e69$var$start"],"version":3,"file":"index.bbf9d7fc.js.map"}